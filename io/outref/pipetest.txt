setenv gtm_chset M
unset echo
Files Created in ##TEST_PATH##:
Using: ##SOURCE_PATH##/mumps -run GDE
mumps.gld
Using: ##SOURCE_PATH##/mupip
mumps.dat
###################################################################
**************************** blockedwrite ***********************
###################################################################
ztrap taken for pipe full
Total number of lines successfully written to pipe:
10000
###################################################################
**************************** blockedfifo ****************************
###################################################################
Number of lines read = 10000
9996:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
9997:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
9998:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
9999:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
10000:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
ztrap taken for fifo full
###################################################################
**************************** catback2 ****************************
###################################################################
x:5 timing out, $test = 0 $za = 0 $device = 0 -><-
x:5 not timing out, $test = 1 $za = 0 $device = 0 ->Test line one<-
x:0 timing out, $test = 0 $za = 0 $device = 0 -><-
x:0 not timing out, $test = 1 $za = 0 $device = 0 ->Test line two<-
The value of $test before read x is 1.  The value of $test after read x is 1
The value of $test before read x is 0.  The value of $test after read x is 0
Create pipe device handles p1-p4
test1
1:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
2:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
3:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
4:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
5:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
6:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
7:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
8:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
9:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
10:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
test2
1:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
2:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
3:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
4:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
5:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
6:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
7:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
8:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
9:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
10:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
test3
1:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
2:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
3:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
4:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
5:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
6:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
7:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
8:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
9:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
10:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
test4
1:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
2:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
3:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
4:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
5:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
6:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
7:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
8:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
9:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
10:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
Execute zshow to see which devices are open

##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM REC=120 FILETAG=UNTAGGED TEXT 
test1 OPEN PIPE SHELL="/bin/sh" COMMAND="cat -u" FILETAG=UNTAGGED TEXT 
test2 OPEN PIPE SHELL="/bin/sh" COMMAND="cat -u" FILETAG=UNTAGGED TEXT 
test3 OPEN PIPE SHELL="/usr/local/bin/tcsh" COMMAND="cat -u" FILETAG=UNTAGGED TEXT 
test4 OPEN PIPE COMMAND="cat -u" FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM REC=120 
0-out OPEN RMS STREAM REC=120 
test1 OPEN PIPE SHELL="/bin/sh" COMMAND="cat -u" 
test2 OPEN PIPE SHELL="/bin/sh" COMMAND="cat -u" 
test3 OPEN PIPE SHELL="/usr/local/bin/tcsh" COMMAND="cat -u" 
test4 OPEN PIPE COMMAND="cat -u" 
##ALLOW_OUTPUT HOST_OS390_S390
Execute zshow to show the pipe devices are closed

##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM REC=120 FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM REC=120 
0-out OPEN RMS STREAM REC=120 
##SUSPEND_OUTPUT HOST_OSF1_ALPHA
###################################################################
**************************** ioescape ****************************
###################################################################
spawn ##SOURCE_PATH##/mumps -run ioescape
$io is a TERMINAL
test OPEN PIPE COMMAND="./echoback" STDERR="e1" 
##ALLOW_OUTPUT HOST_ALL
###################################################################
**************************** alternate ****************************
###################################################################
%YDB-I-JNLCREATE, Journal file ##TEST_PATH##/mumps.mjl created for region DEFAULT with NOBEFORE_IMAGES
%YDB-I-JNLSTATE, Journaling state for region DEFAULT is now ON

zshow after open

##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
test OPEN PIPE COMMAND="./echoback" STDERR="e1" FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
test OPEN PIPE COMMAND="./echoback" STDERR="e1" 
##ALLOW_OUTPUT HOST_OS390_S390

line= stdout - line one
line= stdout - line three
eline= stderr - line two
eline= stderr - line four

zshow after closing "e1" only:

##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
test OPEN PIPE COMMAND="./echoback" FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
test OPEN PIPE COMMAND="./echoback" 
##ALLOW_OUTPUT HOST_OS390_S390

zshow after closing "test":

##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
##ALLOW_OUTPUT HOST_OS390_S390

zshow after open

##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
test OPEN PIPE COMMAND="boguscommand" STDERR="e1" FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
test OPEN PIPE COMMAND="boguscommand" STDERR="e1" 
##ALLOW_OUTPUT HOST_OS390_S390
boguscommand: Command not found.

zshow after closing "test":

##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
##ALLOW_OUTPUT HOST_OS390_S390
%YDB-I-JNLSTATE, Journaling state for database file ##TEST_PATH##/mumps.dat is now DISABLED
###################################################################
**************************** docat4 ******************************
###################################################################
Create pipe device handles p1-p4
Open pipe device p1 using csh as the shell with output from f100.m piped to cat | tr -d e >out1
tr will delete the letter e from the input

Open pipe device p2 using sh as the shell with output from funcs100.m piped to cat>out2

Open pipe device p3 using tcsh as the shell with output from f100.m piped to cat>out3

Open pipe device p4 defaulting to sh as the shell with output from funcs100.m piped to tr 7 z > out4
tr will change number 7 to the letter z



Execute zshow to see which devices are open

##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
test1 OPEN PIPE SHELL="/bin/csh" COMMAND="cat -u| tr -d e >out1" STDERR="e1" 
test2 OPEN PIPE SHELL="/bin/sh" COMMAND="cat -u>out2" STDERR="e2" 
test3 OPEN PIPE SHELL="/usr/local/bin/tcsh" COMMAND="cat -u>out3" STDERR="e3" 
test4 OPEN PIPE COMMAND="tr 7 z > out4" STDERR="e4" 
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
test1 OPEN PIPE SHELL="/bin/tcsh" COMMAND="cat -u| tr -d e >out1" STDERR="e1" FILETAG=UNTAGGED TEXT 
test2 OPEN PIPE SHELL="/bin/sh" COMMAND="cat -u>out2" STDERR="e2" FILETAG=UNTAGGED TEXT 
test3 OPEN PIPE SHELL="/usr/local/bin/tcsh" COMMAND="cat -u>out3" STDERR="e3" FILETAG=UNTAGGED TEXT 
test4 OPEN PIPE COMMAND="tr 7 z > out4" STDERR="e4" FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL

After writing the pipe handle name to the end of each open pipe device, each device is closed

Execute zshow to show the pipe devices are closed

##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
##ALLOW_OUTPUT HOST_OS390_S390
Last 2 lines of out1:
100:abcdfghijklmnopqrstuvwxyz abcdfghijklmnopqrstuvwxyz
tst1
Last 2 lines of out2:
100:123456789 123456789 123456789 123456789
test2
Last 2 lines of out3:
100:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
test3
Last 2 lines of out4:
100:123456z89 123456z89 123456z89 123456z89
test4
###################################################################
**************************** justread *****************************
###################################################################
Expect the word "justread":
justread
###################################################################
**************************** readstar *****************************
###################################################################
input to pipe:
:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz

read *x from pipe:
:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz

input to pipe:
:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz

read *x:0 from pipe:
:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
$zeof = 1
###################################################################
**************************** readpound ****************************
###################################################################
input to pipe:
1:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
2:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz

read x#25 from pipe and echo until end of each line:
1:abcdefghijklmnopqrstuvw
xyz abcdefghijklmnopqrstu
vwxyz
2:abcdefghijklmnopqrstuvw
xyz abcdefghijklmnopqrstu
vwxyz

input to pipe:
1:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
2:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz

read x#25:0 from pipe and echo until end of each line:
1:abcdefghijklmnopqrstuvw
xyz abcdefghijklmnopqrstu
vwxyz
2:abcdefghijklmnopqrstuvw
xyz abcdefghijklmnopqrstu
vwxyz
$zeof = 1
##SUSPEND_OUTPUT NON_UTF8
setenv gtm_chset UTF-8
unset echo
###################################################################
**************************** utf3 *********************************
###################################################################
diff between utf.in and utf.out:
###################################################################
**************************** tutf3 ********************************
###################################################################
Expect last 5 lines with 50 utf8 characters per line and total number of characters in tutf3.out
46 - ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշո
47 - ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշո
48 - ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշո
49 - ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշո
50 - ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշո
zeof = 1
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
total bytes = 5389
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
total bytes = 5389
##ALLOW_OUTPUT HOST_OS390_S390
###################################################################
**************************** tutf4 ********************************
###################################################################
Expect last 5 lines with 50 utf8 characters per line and total number of characters in tutf4.out
46 - ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշո
47 - ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշո
48 - ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշո
49 - ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշո
50 - ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշո
zeof = 1
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
total bytes = 5403
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
total bytes = 5403
##ALLOW_OUTPUT HOST_OS390_S390
###################################################################
**************************** tutf5 ********************************
###################################################################
Expect last 6 lines with 35 utf8 characters on one line followed by 15 utf8 characters on next line and total number of characters in tutf5.out
45 - ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթ
46 - ժիլխծկհձղճմյնշո
47 - ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթ
48 - ժիլխծկհձղճմյնշո
49 - ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթ
50 - ժիլխծկհձղճմյնշո
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
total bytes = 2893
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
total bytes = 2893
##ALLOW_OUTPUT HOST_OS390_S390
###################################################################
**************************** tutf6 ********************************
###################################################################
Expect last 6 lines with 35 utf8 characters per line and total number of characters in tutf6.out
45 - ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթ
46 - ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթ
47 - ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթ
48 - ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթ
49 - ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթ
50 - ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթ
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
total bytes = 3900
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
total bytes = 3900
##ALLOW_OUTPUT HOST_OS390_S390
###################################################################
**************************** badinput2 ****************************
###################################################################
Testing for the non-fixed case in utf mode
Testing input of the phrase "This is a test" where no newline is returned, but we want to get partial input
For the read x:0 case we are testing to make sure it doesn't hang

##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
test OPEN PIPE COMMAND="./strip_cr" FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
test OPEN PIPE COMMAND="./strip_cr" 
##ALLOW_OUTPUT HOST_OS390_S390

testing r x:0
->ՇՈՉՊՋՌՍՎՏՐ<-
$device = 0 $za = 0 $test = 0

testing r x:5
->ՇՈՉՊՋՌՍՎՏՐ<-
$device = 0 $za = 0 $test = 0

Testing for the fixed case in utf mode
Testing input of the phrase "This is a test" where no newline is returned, but we want to get partial input
strip_cr will strip out the newline and all spaces, so input will be less than recordsize

##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
test OPEN PIPE COMMAND="./strip_cr 1" FIXED REC=30 FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
test OPEN PIPE COMMAND="./strip_cr 1" FIXED REC=30 
##ALLOW_OUTPUT HOST_OS390_S390

testing r x:0
->ՇՈՉՊՋՌՍՎՏՐ<-
$device = 0 $za = 0 $test = 0

testing r x:5
->ՇՈՉՊՋՌՍՎՏՐ<-
$device = 0 $za = 0 $test = 0
###################################################################
***** use read x:5 and pipe to the application strip_cr ******
###################################################################
Write 50 UTF character per line
device= 0 test= 0 za= 0 zeof= 0
length = 50
ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշո
total bytes = 145
Write 1000 UTF character per line
device= 0 test= 0 za= 0 zeof= 0
length = 1020
ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZ
total bytes = 2067
###################################################################
***** use read x:0 and pipe to the application strip_cr ******
###################################################################
Write 50 UTF character per line
device= 0 test= 0 za= 0 zeof= 0
length = 50
ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշո
total bytes = 145
Write 1000 UTF character per line
device= 0 test= 0 za= 0 zeof= 0
length = 1020
ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZ
total bytes = 2067
###################################################################
***** pipe to cat -u so do not timeout and use read x *****
###################################################################
Write 50 UTF character per line
device= 0 test= 1 za= 0 zeof= 0
length = 50
ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշո
total bytes = 145
Write 1000 UTF character per line
device= 0 test= 1 za= 0 zeof= 0
length = 1020
ՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZՇՈՉՊՋՌՍՎՏՐՑՒՓՔՕՖ՗՘ՙ՚՛՜՝՞՟ՠաբգդեզէըթժիլխծկհձղճմյնշոZ
total bytes = 2067
###################################################################
Write utf characters one at a time to pipe and read back one at a time to show newline not inserted by read
ϥϦϧϨϩϪϫϬϭϮϯϰϱϲϳϴϵ϶ϷϸϹϺϻϼϽϾ
###################################################################
**************************** utftimeout ****************************
###################################################################
executing test for read x#n:0
x= ϥϦϧϨ
$TEST = 1
x= ϩϪ
$TEST = 1
x= ϫϬϥ
$TEST = 0
x= ϦϧϨϩϪϫϬ
$TEST = 0
x= 
executing test for read x#n:1
x= ϥϦϧϨ
$TEST = 1
x= ϩϪ
$TEST = 1
x= ϫϬϥ
$TEST = 0
x= ϦϧϨϩϪϫϬ
$TEST = 0
x= 
###################################################################
**************************** ureadstderr *****************************
###################################################################
Number of lines read from stdout = 100
x(100)="stdout - k = 199"
Number of lines read from stderr = 100
y(100)="stderr - k = 200"
###################################################################
##ALLOW_OUTPUT NON_UTF8
setenv gtm_chset M
unset echo

Write M characters one at a time to pipe and read back one at a time to show newline not inserted by read
abcdefghijklmnopqrstuvwxyz

###################################################################
**************************** jread2 *******************************
###################################################################
  3992	abcd8fghijklmnopqrstuvwxyz abcd8fghijklmnopqrstuvwxyz abcd8fghijklmnopqrstuvwxyz
  3993	abcd8fghijklmnopqrstuvwxyz abcd8fghijklmnopqrstuvwxyz abcd8fghijklmnopqrstuvwxyz
  3994	abcd8fghijklmnopqrstuvwxyz abcd8fghijklmnopqrstuvwxyz abcd8fghijklmnopqrstuvwxyz
  3995	abcd8fghijklmnopqrstuvwxyz abcd8fghijklmnopqrstuvwxyz abcd8fghijklmnopqrstuvwxyz
  3996	abcd8fghijklmnopqrstuvwxyz abcd8fghijklmnopqrstuvwxyz abcd8fghijklmnopqrstuvwxyz
  3997	abcd8fghijklmnopqrstuvwxyz abcd8fghijklmnopqrstuvwxyz abcd8fghijklmnopqrstuvwxyz
  3998	abcd8fghijklmnopqrstuvwxyz abcd8fghijklmnopqrstuvwxyz abcd8fghijklmnopqrstuvwxyz
  3999	abcd8fghijklmnopqrstuvwxyz abcd8fghijklmnopqrstuvwxyz abcd8fghijklmnopqrstuvwxyz
  4000	abcd8fghijklmnopqrstuvwxyz abcd8fghijklmnopqrstuvwxyz abcd8fghijklmnopqrstuvwxyz
$zeof = 1
###################################################################
**************************** newread2 *****************************
###################################################################
##TEST_AWKstd... - 999:abcdjfghijklmnopqrstuvwxyz abcdjfghijklmnopqrstuvwxyz
##TEST_AWKstd... - 1000:abcdjfghijklmnopqrstuvwxyz abcdjfghijklmnopqrstuvwxyz
###################################################################
**************************** badlabel^badhandler ******************
###################################################################

GTM>
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
##ALLOW_OUTPUT HOST_OS390_S390
150372746,BADLABEL+5^badhandler,%YDB-E-ERRWIOEXC, Error while processing I/O exception string,-YDB-E-LABELMISSING, Label referenced but not defined: ADOPEN
in cont1
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
##ALLOW_OUTPUT HOST_OS390_S390

GTM>
###################################################################
**************************** badcommand^badhandler ******************
###################################################################

GTM>
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
##ALLOW_OUTPUT HOST_OS390_S390
150373050,BADCOMMAND+5^badhandler,%YDB-E-INVCMD, Invalid command keyword encountered
in cont1
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
test CLOSED 
##ALLOW_OUTPUT HOST_OS390_S390

GTM>
###################################################################
*********************** justbadlabel^badhandler entryref *********
###################################################################

GTM>
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
##ALLOW_OUTPUT HOST_OS390_S390
150372746,JUSTBADLABEL+5^badhandler,%YDB-E-ERRWIOEXC, Error while processing I/O exception string,-YDB-E-LABELMISSING, Label referenced but not defined: ADOPEN
in cont1
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
##ALLOW_OUTPUT HOST_OS390_S390

GTM>
###################################################################
**************************** justgoodlabel^badhandler entryref *********
###################################################################

GTM>
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
##ALLOW_OUTPUT HOST_OS390_S390

badopen error
150379354,JUSTGOODLABEL+5^badhandler,%YDB-E-DEVOPENFAIL, Error opening test,%YDB-I-TEXT, Invalid shell: jjj
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
##ALLOW_OUTPUT HOST_OS390_S390

GTM>
###################################################################
************************ badcommand^badhandler adaptive ***********
###################################################################

GTM>
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
##ALLOW_OUTPUT HOST_OS390_S390
150373010,BADCOMMAND+5^badhandler,%YDB-E-INDEXTRACHARS, Indirection string contains extra trailing characters
in cont1
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
##ALLOW_OUTPUT HOST_OS390_S390

GTM>
###################################################################
**************************** ex1 **********************************
###################################################################

badopen error
150379354,EX1+2^ex1,%YDB-E-DEVOPENFAIL, Error opening test,%YDB-I-TEXT, Invalid shell: jjj
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
##ALLOW_OUTPUT HOST_OS390_S390
###################################################################
**************************** ex2 **********************************
###################################################################
Doing one write
$zeof = 1
$za = 9
$device = 1,Device detected EOF
EOF1
150373082,EX2+11^ex2,%YDB-E-IOEOF, Attempt to read past an end-of-file
try stderr
EOF2
Nothing in stderr
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
test OPEN PIPE SHELL="/usr/local/bin/tcsh" COMMAND="cat -u" STDERR="e1" FILETAG=UNTAGGED TEXT EXCE="G EOF1"
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
test OPEN PIPE SHELL="/usr/local/bin/tcsh" COMMAND="cat -u" STDERR="e1" EXCE="G EOF1"
##ALLOW_OUTPUT HOST_OS390_S390
###################################################################
**************************** ex3 **********************************
###################################################################

badopen error
150379354,EX3+2^ex3,%YDB-E-DEVOPENFAIL, Error opening test,%YDB-I-TEXT, Invalid command string: jjj
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
##ALLOW_OUTPUT HOST_OS390_S390
###################################################################
**************************** ex4 **********************************
###################################################################
$zeof = 1
$za = 9
$device = 1,Device detected EOF
EOF1
150373082,EX4+5^ex4,%YDB-E-IOEOF, Attempt to read past an end-of-file
look in ex4.log for stderr output
END OF FILE SEEN
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
test OPEN PIPE SHELL="/bin/sh" COMMAND="kkk" STDERR="e1" FILETAG=UNTAGGED TEXT EXCE="G EOF1"
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
test OPEN PIPE SHELL="/bin/sh" COMMAND="kkk" STDERR="e1" EXCE="G EOF1"
##ALLOW_OUTPUT HOST_OS390_S390
###################################################################
**************************** ex5 **********************************
###################################################################
$zeof = 1
$za = 9
$device = 1,Device detected EOF
EOF1
150373082,EX5+7^ex5,%YDB-E-IOEOF, Attempt to read past an end-of-file
try stderr
EOF2
Nothing in stderr
###################################################################
**************************** eofread **********************************
###################################################################

doing read x:2
$zeof = 1
$za = 9
$device = 1,Device detected EOF
$test = 1

doing read x:0
$zeof = 1
$za = 9
$device = 1,Device detected EOF
$test = 1

try and read again to force a $ztrap 
$zeof = 1
$za = 9
$device = 1,Device detected EOF

expect 0 since we did if 0, $test = 0

try and read again to force another $ztrap 
$zeof = 1
$za = 9
$device = 1,Device detected EOF

expect 1 since we did if 1, $test = 1

150373082,BAD+14^eofread,%YDB-E-IOEOF, Attempt to read past an end-of-file
###################################################################
**************************** writetrap ****************************
###################################################################


write error

$zstatus = 150373618,WRITETRAP+10^writetrap,%YDB-E-DEVICEREADONLY, Cannot write to read-only device
$device = 0
$za = 0
###################################################################
**************************** exnull ****************************
###################################################################

BADOPEN0 error
150379354,exnull+2^exnull,%YDB-E-DEVOPENFAIL, Error opening test,%YDB-I-TEXT, Command string has no value
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
##ALLOW_OUTPUT HOST_OS390_S390

BADOPEN1 error
150379354,BADOPEN0+2^exnull,%YDB-E-DEVOPENFAIL, Error opening test,%YDB-I-TEXT, Missing command string
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
##ALLOW_OUTPUT HOST_OS390_S390

BADOPEN2 error
150379354,BADOPEN1+2^exnull,%YDB-E-DEVOPENFAIL, Error opening test,%YDB-I-TEXT, SHELL parameter has no value
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
##ALLOW_OUTPUT HOST_OS390_S390

BADOPEN3 error
150379354,BADOPEN2+2^exnull,%YDB-E-DEVOPENFAIL, Error opening test,%YDB-I-TEXT, STDERR parameter has no value
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
##ALLOW_OUTPUT HOST_OS390_S390
###################################################################
************ test DEVICEWRITEONLY for pipe and file*******************
###################################################################
Testing DEVICEWRITEONLY for file
%YDB-E-DEVICEWRITEONLY, Cannot read from a write-only device
Testing DEVICEWRITEONLY for pipe
%YDB-E-DEVICEWRITEONLY, Cannot read from a write-only device
###################################################################
**************************** mtom ****************************
###################################################################
Look in mtom.log and mtom2.log for ps -ef output
GTM>
GTM>

1
GTM>
hello
###################################################################
**************************** fexception ****************************
###################################################################

The file  jjjl does not exist.
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
##ALLOW_OUTPUT HOST_OS390_S390
###################################################################
**************************** mupipread ****************************
###################################################################
line= 
line= No errors detected by integ.
line= 
line= Type           Blocks         Records          % Used      Adjacent
line= 
##TEST_AWKline= Directory           2               2           0.[0-9][0-9][0-9]            NA
line= Index               1               1           0.585             1
line= Data                1               1           0.781             1
line= Free               96              NA              NA            NA
line= Total             100               4              NA             2
###################################################################
**************************** fix ****************************
###################################################################

Writing 10 lines each 80 chars in length and expect to output same but preceeded by line numbers

##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
test OPEN PIPE COMMAND="cat -u" FIXED REC=80 FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
test OPEN PIPE COMMAND="cat -u" FIXED REC=80 
##ALLOW_OUTPUT HOST_OS390_S390
1 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
2 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
3 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
4 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
5 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
6 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
7 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
8 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
9 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
10 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
zeof = 1

Writing 10 lines each but separate each write into 2 with 40 chars each
 and expect to output 80 chars per line

##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
test OPEN PIPE COMMAND="cat -u" FIXED REC=80 FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
test OPEN PIPE COMMAND="cat -u" FIXED REC=80 
##ALLOW_OUTPUT HOST_OS390_S390
1 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
2 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
3 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
4 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
5 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
6 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
7 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
8 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
9 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
10 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890

Writing 10 lines each with each one containing 83 characters
 and expect to output 80 chars on one line followed by 3 on the next line

##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
test OPEN PIPE COMMAND="cat -u" FIXED REC=80 FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
test OPEN PIPE COMMAND="cat -u" FIXED REC=80 
##ALLOW_OUTPUT HOST_OS390_S390
1 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
1 - abc                                                                             
2 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
2 - abc                                                                             
3 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
3 - abc                                                                             
4 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
4 - abc                                                                             
5 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
5 - abc                                                                             
6 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
6 - abc                                                                             
7 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
7 - abc                                                                             
8 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
8 - abc                                                                             
9 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
9 - abc                                                                             
10 - 12345678901234567890123456789012345678901234567890123456789012345678901234567890
10 - abc                                                                             

This test has a recordsize of 60, but is not fixed format
Writing 10 lines each with each one containing 63 characters
 and expect to output 60 chars on one line followed by a newline then by 3 on the next line

##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
test OPEN PIPE COMMAND="cat -u" REC=60 FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
test OPEN PIPE COMMAND="cat -u" REC=60 
##ALLOW_OUTPUT HOST_OS390_S390
1 - 123456789012345678901234567890123456789012345678901234567890
1 - 
1 - abc
2 - 123456789012345678901234567890123456789012345678901234567890
2 - 
2 - abc
3 - 123456789012345678901234567890123456789012345678901234567890
3 - 
3 - abc
4 - 123456789012345678901234567890123456789012345678901234567890
4 - 
4 - abc
5 - 123456789012345678901234567890123456789012345678901234567890
5 - 
5 - abc
6 - 123456789012345678901234567890123456789012345678901234567890
6 - 
6 - abc
7 - 123456789012345678901234567890123456789012345678901234567890
7 - 
7 - abc
8 - 123456789012345678901234567890123456789012345678901234567890
8 - 
8 - abc
9 - 123456789012345678901234567890123456789012345678901234567890
9 - 
9 - abc
10 - 123456789012345678901234567890123456789012345678901234567890
10 - 
10 - abc

Writing 10 lines each with each one containing 13 characters and with nowrap
 and expect to output the first 10 chars on each line

##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
test OPEN PIPE COMMAND="cat -u" FIXED REC=10 NOWRAP FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
test OPEN PIPE COMMAND="cat -u" FIXED REC=10 NOWRAP 
##ALLOW_OUTPUT HOST_OS390_S390
1 - 1234567890
2 - 1234567890
3 - 1234567890
4 - 1234567890
5 - 1234567890
6 - 1234567890
7 - 1234567890
8 - 1234567890
9 - 1234567890
10 - 1234567890

Write a shorter line of 8 characters to verify that a write /eof
will flush the output in fixed mode and that the 8 characters plus 2 pad characters will be read
$x after writing 12345678 = 8
$x after write /eof = 0
Short read after write /eof: 12345678  
String length plus pad characters = 10
Show end of file seen after an extra read
zeof= 1
device= 1,Device detected EOF
Show pipe device still open after write /eof
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
test OPEN PIPE COMMAND="cat -u" FIXED REC=10 NOWRAP FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
test OPEN PIPE COMMAND="cat -u" FIXED REC=10 NOWRAP 
##ALLOW_OUTPUT HOST_OS390_S390
###################################################################
**************************** badinput ****************************
###################################################################
Testing for the non-fixed case in M mode
Testing input of the phrase "This is a test" where no newline is returned, but we want to get partial input
For the read x:0 case we are testing to make sure it doesn't hang

##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
test OPEN PIPE COMMAND="./strip_cr" FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
test OPEN PIPE COMMAND="./strip_cr" 
##ALLOW_OUTPUT HOST_OS390_S390

testing r x:0
->This is a test<-
$device = 0 $za = 0 $test = 0

testing r x:5
->This is a test<-
$device = 0 $za = 0 $test = 0

Testing for the fixed case in M mode
Testing input of the phrase "This is a test" where no newline is returned, but we want to get partial input
strip_cr will strip out the newline and all spaces, so input will be less than recordsize

##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
test OPEN PIPE COMMAND="./strip_cr 1" FIXED REC=20 FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
test OPEN PIPE COMMAND="./strip_cr 1" FIXED REC=20 
##ALLOW_OUTPUT HOST_OS390_S390

testing r x:0
->Testingfixed<-
$device = 0 $za = 0 $test = 0

testing r x:5
->Testingfixed<-
$device = 0 $za = 0 $test = 0
###################################################################
**************************** independent ****************************
###################################################################
Shell = tcsh
simple test
ntestin still running
Shell = sh
simple test
ntestin still running
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
Shell = tcsh
simple test
ntestin still running
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
Shell = csh
simple test
ntestin still running
Shell = ksh
simple test
ntestin still running
##ALLOW_OUTPUT HOST_OS390_S390
###################################################################
**************************** fifozeof ****************************
###################################################################
1:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
2:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
3:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
4:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
5:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
6:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
7:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
8:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
9:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
10:abcdefghijklmnopqrstuvwxyz abcdefghijklmnopqrstuvwxyz
$za = 9 $zeof = 1 $device = 1,Device detected EOF
###################################################################
**************************** fifovar ****************************
###################################################################
read x:0 with no input and expect:
$za = 0 $zeof = 0 $device = 0 $test = 0
$za = 0 $zeof = 0 $device = 0 $test = 0
read x:1 with no input and expect:
$za = 0 $zeof = 0 $device = 0 $test = 0
$za = 0 $zeof = 0 $device = 0 $test = 0
read x:1 with normal termination of input and expect:
$za = 0 $zeof = 0 $device = 0 $test = 1
$za = 0 $zeof = 0 $device = 0 $test = 1
abcdefghijklmnopqrstuvwxyz
read x:0 with normal termination of input and expect:
$za = 0 $zeof = 0 $device = 0 $test = 1
$za = 0 $zeof = 0 $device = 0 $test = 1
abcdefghijklmnopqrstuvwxyz
read x:1 with partial input and expect:
$za = 0 $zeof = 0 $device = 0 $test = 0
$za = 0 $zeof = 0 $device = 0 $test = 0
abcdefghijklmnopqrstuvwxyz
read x:0 with partial input and expect:
$za = 0 $zeof = 0 $device = 0 $test = 0
$za = 0 $zeof = 0 $device = 0 $test = 0
abcdefghijklmnopqrstuvwxyz
read x with normal termination of input and expect:
$za = 0 $zeof = 0 $device = 0
$za = 0 $zeof = 0 $device = 0
abcdefghijklmnopqrstuvwxyz
First part done
read x:1 getting end of file expect:
$za = 9 $zeof = 1 $device = 1,Device detected EOF $test = 1
$za = 9 $zeof = 1 $device = 1,Device detected EOF $test = 1
read x:0 getting end of file expect:
$za = 9 $zeof = 1 $device = 1,Device detected EOF $test = 1
$za = 9 $zeof = 1 $device = 1,Device detected EOF $test = 1
Second part done

Try to write to readonly fifo
150373618,fifovarread+118^fifovarread,%YDB-E-DEVICEREADONLY, Cannot write to read-only device

Try to read from writeonly fifo
150382042,BAD+7^fifovarread,%YDB-E-DEVICEWRITEONLY, Cannot read from a write-only device
###################################################################
**************************** fbadinput ****************************
###################################################################
Testing fifo for the non-fixed case in M mode
Testing input of the phrase "This is a test" where no newline is returned, but we want to get partial input
For the read x:0 case we are testing to make sure it doesn't hang

##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
##ALLOW_OUTPUT HOST_OS390_S390
fifo.test OPEN FIFO 

testing r x:0
->This is a test<-
$device = 0 $za = 0 $test = 0

testing r x:5
->This is a test<-
$device = 0 $za = 0 $test = 0

Testing fifo for the fixed case in M mode
Testing input of the phrase "Testing fixed" where no newline is returned, but we want to get partial input
strip_cr will strip out the newline and all spaces, so input will be less than recordsize

##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
##ALLOW_OUTPUT HOST_OS390_S390
fifo.test OPEN FIFO FIXED REC=20 

testing r x:0
->Testingfixed<-
$device = 0 $za = 0 $test = 0

testing r x:5
->Testingfixed<-
$device = 0 $za = 0 $test = 0
###################################################################
**************************** dollarx ****************************
###################################################################

mode = M

DISK TEST

0:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 100
1:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 200
2:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 300
3:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 400
4:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 500
5:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 600
6:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 700
7:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 800
8:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 900
9:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 1000

FIFO TEST

0:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 100
1:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 200
2:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 300
3:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 400
4:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 500
5:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 600
6:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 700
7:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 800
8:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 900
9:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 1000

PIPE TEST

0:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 100
1:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 200
2:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 300
3:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 400
4:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 500
5:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 600
6:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 700
7:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 800
8:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 900
9:23456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 1000
###################################################################
**************************** dollarxy fixed ****************************
###################################################################

mode = M

DISK TEST

0:23456789 $X = 10 $Y = 0 len = 10 piece1 = 10
012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 1 len = 90 piece2 = 90
1:2345678901234 $X = 15 $Y = 1 len = 15 piece1 = 15
5678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 2 len = 85 piece2 = 85
2:234567890123456789 $X = 20 $Y = 2 len = 20 piece1 = 20
01234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 3 len = 80 piece2 = 80
3:23456789012345678901234 $X = 25 $Y = 3 len = 25 piece1 = 25
567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 4 len = 75 piece2 = 75
4:2345678901234567890123456789 $X = 30 $Y = 4 len = 30 piece1 = 30
0123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 5 len = 70 piece2 = 70
5:234567890123456789012345678901234 $X = 35 $Y = 5 len = 35 piece1 = 35
56789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 6 len = 65 piece2 = 65
6:23456789012345678901234567890123456789 $X = 40 $Y = 6 len = 40 piece1 = 40
012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 7 len = 60 piece2 = 60
7:2345678901234567890123456789012345678901234 $X = 45 $Y = 7 len = 45 piece1 = 45
5678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 8 len = 55 piece2 = 55
8:234567890123456789012345678901234567890123456789 $X = 50 $Y = 8 len = 50 piece1 = 50
01234567890123456789012345678901234567890123456789 $X = 0 $Y = 9 len = 50 piece2 = 50
9:23456789012345678901234567890123456789012345678901234 $X = 55 $Y = 9 len = 55 piece1 = 55
567890123456789012345678901234567890123456789 $X = 0 $Y = 10 len = 45 piece2 = 45
dfilefixed.out OPEN RMS FIXED REC=100 NOWRAP 

0:23456789 $X = 10 $Y = 0 len = 10 piece1 = 10
012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 1 len = 90 piece2 = 90
1:2345678901234 $X = 15 $Y = 1 len = 15 piece1 = 15
5678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 2 len = 85 piece2 = 85
2:234567890123456789 $X = 20 $Y = 2 len = 20 piece1 = 20
01234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 3 len = 80 piece2 = 80
3:23456789012345678901234 $X = 25 $Y = 3 len = 25 piece1 = 25
567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 4 len = 75 piece2 = 75
4:2345678901234567890123456789 $X = 30 $Y = 4 len = 30 piece1 = 30
0123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 5 len = 70 piece2 = 70
5:234567890123456789012345678901234 $X = 35 $Y = 5 len = 35 piece1 = 35
56789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 6 len = 65 piece2 = 65
6:23456789012345678901234567890123456789 $X = 40 $Y = 6 len = 40 piece1 = 40
012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 7 len = 60 piece2 = 60
7:2345678901234567890123456789012345678901234 $X = 45 $Y = 7 len = 45 piece1 = 45
5678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 8 len = 55 piece2 = 55
8:234567890123456789012345678901234567890123456789 $X = 50 $Y = 8 len = 50 piece1 = 50
01234567890123456789012345678901234567890123456789 $X = 0 $Y = 9 len = 50 piece2 = 50
9:23456789012345678901234567890123456789012345678901234 $X = 55 $Y = 9 len = 55 piece1 = 55
567890123456789012345678901234567890123456789 $X = 0 $Y = 10 len = 45 piece2 = 45
dfilefixed.out OPEN RMS FIXED REC=100 


FIFO TEST

0:23456789 $X = 10 $Y = 0 len = 10 piece1 = 10
012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 1 len = 90 piece2 = 90
1:2345678901234 $X = 15 $Y = 1 len = 15 piece1 = 15
5678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 2 len = 85 piece2 = 85
2:234567890123456789 $X = 20 $Y = 2 len = 20 piece1 = 20
01234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 3 len = 80 piece2 = 80
3:23456789012345678901234 $X = 25 $Y = 3 len = 25 piece1 = 25
567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 4 len = 75 piece2 = 75
4:2345678901234567890123456789 $X = 30 $Y = 4 len = 30 piece1 = 30
0123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 5 len = 70 piece2 = 70
5:234567890123456789012345678901234 $X = 35 $Y = 5 len = 35 piece1 = 35
56789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 6 len = 65 piece2 = 65
6:23456789012345678901234567890123456789 $X = 40 $Y = 6 len = 40 piece1 = 40
012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 7 len = 60 piece2 = 60
7:2345678901234567890123456789012345678901234 $X = 45 $Y = 7 len = 45 piece1 = 45
5678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 8 len = 55 piece2 = 55
8:234567890123456789012345678901234567890123456789 $X = 50 $Y = 8 len = 50 piece1 = 50
01234567890123456789012345678901234567890123456789 $X = 0 $Y = 9 len = 50 piece2 = 50
9:23456789012345678901234567890123456789012345678901234 $X = 55 $Y = 9 len = 55 piece1 = 55
567890123456789012345678901234567890123456789 $X = 0 $Y = 10 len = 45 piece2 = 45
fifo1 OPEN FIFO FIXED REC=100 NOWRAP 

0:23456789 $X = 10 $Y = 0 len = 10 piece1 = 10
012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 1 len = 90 piece2 = 90
1:2345678901234 $X = 15 $Y = 1 len = 15 piece1 = 15
5678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 2 len = 85 piece2 = 85
2:234567890123456789 $X = 20 $Y = 2 len = 20 piece1 = 20
01234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 3 len = 80 piece2 = 80
3:23456789012345678901234 $X = 25 $Y = 3 len = 25 piece1 = 25
567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 4 len = 75 piece2 = 75
4:2345678901234567890123456789 $X = 30 $Y = 4 len = 30 piece1 = 30
0123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 5 len = 70 piece2 = 70
5:234567890123456789012345678901234 $X = 35 $Y = 5 len = 35 piece1 = 35
56789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 6 len = 65 piece2 = 65
6:23456789012345678901234567890123456789 $X = 40 $Y = 6 len = 40 piece1 = 40
012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 7 len = 60 piece2 = 60
7:2345678901234567890123456789012345678901234 $X = 45 $Y = 7 len = 45 piece1 = 45
5678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 8 len = 55 piece2 = 55
8:234567890123456789012345678901234567890123456789 $X = 50 $Y = 8 len = 50 piece1 = 50
01234567890123456789012345678901234567890123456789 $X = 0 $Y = 9 len = 50 piece2 = 50
9:23456789012345678901234567890123456789012345678901234 $X = 55 $Y = 9 len = 55 piece1 = 55
567890123456789012345678901234567890123456789 $X = 0 $Y = 10 len = 45 piece2 = 45
fifo1 OPEN FIFO FIXED REC=100 


PIPE TEST

0:23456789 $X = 10 $Y = 0 len = 10 piece1 = 10
012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 1 len = 90 piece2 = 90
1:2345678901234 $X = 15 $Y = 1 len = 15 piece1 = 15
5678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 2 len = 85 piece2 = 85
2:234567890123456789 $X = 20 $Y = 2 len = 20 piece1 = 20
01234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 3 len = 80 piece2 = 80
3:23456789012345678901234 $X = 25 $Y = 3 len = 25 piece1 = 25
567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 4 len = 75 piece2 = 75
4:2345678901234567890123456789 $X = 30 $Y = 4 len = 30 piece1 = 30
0123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 5 len = 70 piece2 = 70
5:234567890123456789012345678901234 $X = 35 $Y = 5 len = 35 piece1 = 35
56789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 6 len = 65 piece2 = 65
6:23456789012345678901234567890123456789 $X = 40 $Y = 6 len = 40 piece1 = 40
012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 7 len = 60 piece2 = 60
7:2345678901234567890123456789012345678901234 $X = 45 $Y = 7 len = 45 piece1 = 45
5678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 8 len = 55 piece2 = 55
8:234567890123456789012345678901234567890123456789 $X = 50 $Y = 8 len = 50 piece1 = 50
01234567890123456789012345678901234567890123456789 $X = 0 $Y = 9 len = 50 piece2 = 50
9:23456789012345678901234567890123456789012345678901234 $X = 55 $Y = 9 len = 55 piece1 = 55
567890123456789012345678901234567890123456789 $X = 0 $Y = 10 len = 45 piece2 = 45
pipe1 OPEN PIPE COMMAND="cat ./dfilefixed.out" FIXED READ REC=100 NOWRAP 

0:23456789 $X = 10 $Y = 0 len = 10 piece1 = 10
012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 1 len = 90 piece2 = 90
1:2345678901234 $X = 15 $Y = 1 len = 15 piece1 = 15
5678901234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 2 len = 85 piece2 = 85
2:234567890123456789 $X = 20 $Y = 2 len = 20 piece1 = 20
01234567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 3 len = 80 piece2 = 80
3:23456789012345678901234 $X = 25 $Y = 3 len = 25 piece1 = 25
567890123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 4 len = 75 piece2 = 75
4:2345678901234567890123456789 $X = 30 $Y = 4 len = 30 piece1 = 30
0123456789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 5 len = 70 piece2 = 70
5:234567890123456789012345678901234 $X = 35 $Y = 5 len = 35 piece1 = 35
56789012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 6 len = 65 piece2 = 65
6:23456789012345678901234567890123456789 $X = 40 $Y = 6 len = 40 piece1 = 40
012345678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 7 len = 60 piece2 = 60
7:2345678901234567890123456789012345678901234 $X = 45 $Y = 7 len = 45 piece1 = 45
5678901234567890123456789012345678901234567890123456789 $X = 0 $Y = 8 len = 55 piece2 = 55
8:234567890123456789012345678901234567890123456789 $X = 50 $Y = 8 len = 50 piece1 = 50
01234567890123456789012345678901234567890123456789 $X = 0 $Y = 9 len = 50 piece2 = 50
9:23456789012345678901234567890123456789012345678901234 $X = 55 $Y = 9 len = 55 piece1 = 55
567890123456789012345678901234567890123456789 $X = 0 $Y = 10 len = 45 piece2 = 45
pipe1 OPEN PIPE COMMAND="cat ./dfilefixed.out" FIXED READ REC=100 

###################################################################
**************************** gtmaspipedriver ****************************
###################################################################
received: iteration = 1
received: iteration = 2
received: iteration = 3
received: iteration = 4
received: iteration = 5
$zclose = 0

Status from:gtmaspipeproc1.outx
normal exit with zeof =1

received: iteration = 1
received: iteration = 2
received: iteration = 3
received: iteration = 4
received: iteration = 5
$zclose = 32

Status from:gtmaspipeproc2.outx
ERR:
0 OPEN FIFO STREAM NOWRAP 
0-out OPEN FIFO STREAM NOWRAP 
gtmaspipeproc2.outx OPEN RMS 
$zstatus = 32,gtmaspipeproc+10^gtmaspipedriver,%SYSTEM-E-ENO32, Broken pipe
$zeof = 1

##SUSPEND_OUTPUT NON_UTF8
setenv gtm_chset UTF-8
unset echo
###################################################################
**************************** dollarx in utf-8 mode ****************************
###################################################################

mode = UTF-8

DISK TEST

0:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 100
1:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 200
2:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 300
3:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 400
4:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 500
5:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 600
6:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 700
7:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 800
8:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 900
9:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 1000

FIFO TEST

0:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 100
1:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 200
2:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 300
3:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 400
4:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 500
5:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 600
6:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 700
7:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 800
8:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 900
9:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 1000

PIPE TEST

0:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 100
1:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 200
2:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 300
3:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 400
4:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 500
5:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 600
6:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 700
7:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 800
8:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 900
9:2345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 1000
###################################################################
**************************** dollarxy fixed in utf-8 mode ****************************
###################################################################

mode = UTF-8

DISK TEST

0:23456789 $X = 10 $Y = 0 len = 10 piece1 = 10
01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 1 len = 90 piece2 = 90
1:2345678901234 $X = 15 $Y = 1 len = 15 piece1 = 15
567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 2 len = 85 piece2 = 85
2:234567890123456789 $X = 20 $Y = 2 len = 20 piece1 = 20
0123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 3 len = 80 piece2 = 80
3:23456789012345678901234 $X = 25 $Y = 3 len = 25 piece1 = 25
56789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 4 len = 75 piece2 = 75
4:2345678901234567890123456789 $X = 30 $Y = 4 len = 30 piece1 = 30
012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 5 len = 70 piece2 = 70
5:234567890123456789012345678901234 $X = 35 $Y = 5 len = 35 piece1 = 35
5678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 6 len = 65 piece2 = 65
6:23456789012345678901234567890123456789 $X = 40 $Y = 6 len = 40 piece1 = 40
01234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 7 len = 60 piece2 = 60
7:2345678901234567890123456789012345678901234 $X = 45 $Y = 7 len = 45 piece1 = 45
567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 8 len = 55 piece2 = 55
8:234567890123456789012345678901234567890123456789 $X = 50 $Y = 8 len = 50 piece1 = 50
0123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 9 len = 50 piece2 = 50
9:23456789012345678901234567890123456789012345678901234 $X = 55 $Y = 9 len = 55 piece1 = 55
56789012345678901234567890123456789012345678Շ $X = 0 $Y = 10 len = 45 piece2 = 45
dfilefixed.out OPEN RMS FIXED REC=101 WIDTH=100 NOWRAP 

0:23456789 $X = 10 $Y = 0 len = 10 piece1 = 10
01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 1 len = 90 piece2 = 90
1:2345678901234 $X = 15 $Y = 1 len = 15 piece1 = 15
567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 2 len = 85 piece2 = 85
2:234567890123456789 $X = 20 $Y = 2 len = 20 piece1 = 20
0123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 3 len = 80 piece2 = 80
3:23456789012345678901234 $X = 25 $Y = 3 len = 25 piece1 = 25
56789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 4 len = 75 piece2 = 75
4:2345678901234567890123456789 $X = 30 $Y = 4 len = 30 piece1 = 30
012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 5 len = 70 piece2 = 70
5:234567890123456789012345678901234 $X = 35 $Y = 5 len = 35 piece1 = 35
5678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 6 len = 65 piece2 = 65
6:23456789012345678901234567890123456789 $X = 40 $Y = 6 len = 40 piece1 = 40
01234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 7 len = 60 piece2 = 60
7:2345678901234567890123456789012345678901234 $X = 45 $Y = 7 len = 45 piece1 = 45
567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 8 len = 55 piece2 = 55
8:234567890123456789012345678901234567890123456789 $X = 50 $Y = 8 len = 50 piece1 = 50
0123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 9 len = 50 piece2 = 50
9:23456789012345678901234567890123456789012345678901234 $X = 55 $Y = 9 len = 55 piece1 = 55
56789012345678901234567890123456789012345678Շ $X = 0 $Y = 10 len = 45 piece2 = 45
dfilefixed.out OPEN RMS FIXED REC=101 WIDTH=100 


FIFO TEST

0:23456789 $X = 10 $Y = 0 len = 10 piece1 = 10
01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 1 len = 90 piece2 = 90
1:2345678901234 $X = 15 $Y = 1 len = 15 piece1 = 15
567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 2 len = 85 piece2 = 85
2:234567890123456789 $X = 20 $Y = 2 len = 20 piece1 = 20
0123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 3 len = 80 piece2 = 80
3:23456789012345678901234 $X = 25 $Y = 3 len = 25 piece1 = 25
56789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 4 len = 75 piece2 = 75
4:2345678901234567890123456789 $X = 30 $Y = 4 len = 30 piece1 = 30
012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 5 len = 70 piece2 = 70
5:234567890123456789012345678901234 $X = 35 $Y = 5 len = 35 piece1 = 35
5678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 6 len = 65 piece2 = 65
6:23456789012345678901234567890123456789 $X = 40 $Y = 6 len = 40 piece1 = 40
01234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 7 len = 60 piece2 = 60
7:2345678901234567890123456789012345678901234 $X = 45 $Y = 7 len = 45 piece1 = 45
567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 8 len = 55 piece2 = 55
8:234567890123456789012345678901234567890123456789 $X = 50 $Y = 8 len = 50 piece1 = 50
0123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 9 len = 50 piece2 = 50
9:23456789012345678901234567890123456789012345678901234 $X = 55 $Y = 9 len = 55 piece1 = 55
56789012345678901234567890123456789012345678Շ $X = 0 $Y = 10 len = 45 piece2 = 45
fifo1 OPEN FIFO FIXED REC=101 WIDTH=100 NOWRAP 

0:23456789 $X = 10 $Y = 0 len = 10 piece1 = 10
01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 1 len = 90 piece2 = 90
1:2345678901234 $X = 15 $Y = 1 len = 15 piece1 = 15
567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 2 len = 85 piece2 = 85
2:234567890123456789 $X = 20 $Y = 2 len = 20 piece1 = 20
0123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 3 len = 80 piece2 = 80
3:23456789012345678901234 $X = 25 $Y = 3 len = 25 piece1 = 25
56789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 4 len = 75 piece2 = 75
4:2345678901234567890123456789 $X = 30 $Y = 4 len = 30 piece1 = 30
012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 5 len = 70 piece2 = 70
5:234567890123456789012345678901234 $X = 35 $Y = 5 len = 35 piece1 = 35
5678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 6 len = 65 piece2 = 65
6:23456789012345678901234567890123456789 $X = 40 $Y = 6 len = 40 piece1 = 40
01234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 7 len = 60 piece2 = 60
7:2345678901234567890123456789012345678901234 $X = 45 $Y = 7 len = 45 piece1 = 45
567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 8 len = 55 piece2 = 55
8:234567890123456789012345678901234567890123456789 $X = 50 $Y = 8 len = 50 piece1 = 50
0123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 9 len = 50 piece2 = 50
9:23456789012345678901234567890123456789012345678901234 $X = 55 $Y = 9 len = 55 piece1 = 55
56789012345678901234567890123456789012345678Շ $X = 0 $Y = 10 len = 45 piece2 = 45
fifo1 OPEN FIFO FIXED REC=101 WIDTH=100 


PIPE TEST

0:23456789 $X = 10 $Y = 0 len = 10 piece1 = 10
01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 1 len = 90 piece2 = 90
1:2345678901234 $X = 15 $Y = 1 len = 15 piece1 = 15
567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 2 len = 85 piece2 = 85
2:234567890123456789 $X = 20 $Y = 2 len = 20 piece1 = 20
0123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 3 len = 80 piece2 = 80
3:23456789012345678901234 $X = 25 $Y = 3 len = 25 piece1 = 25
56789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 4 len = 75 piece2 = 75
4:2345678901234567890123456789 $X = 30 $Y = 4 len = 30 piece1 = 30
012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 5 len = 70 piece2 = 70
5:234567890123456789012345678901234 $X = 35 $Y = 5 len = 35 piece1 = 35
5678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 6 len = 65 piece2 = 65
6:23456789012345678901234567890123456789 $X = 40 $Y = 6 len = 40 piece1 = 40
01234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 7 len = 60 piece2 = 60
7:2345678901234567890123456789012345678901234 $X = 45 $Y = 7 len = 45 piece1 = 45
567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 8 len = 55 piece2 = 55
8:234567890123456789012345678901234567890123456789 $X = 50 $Y = 8 len = 50 piece1 = 50
0123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 9 len = 50 piece2 = 50
9:23456789012345678901234567890123456789012345678901234 $X = 55 $Y = 9 len = 55 piece1 = 55
56789012345678901234567890123456789012345678Շ $X = 0 $Y = 10 len = 45 piece2 = 45
pipe1 OPEN PIPE COMMAND="cat ./dfilefixed.out" FIXED READ REC=101 WIDTH=100 NOWRAP 

0:23456789 $X = 10 $Y = 0 len = 10 piece1 = 10
01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 1 len = 90 piece2 = 90
1:2345678901234 $X = 15 $Y = 1 len = 15 piece1 = 15
567890123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 2 len = 85 piece2 = 85
2:234567890123456789 $X = 20 $Y = 2 len = 20 piece1 = 20
0123456789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 3 len = 80 piece2 = 80
3:23456789012345678901234 $X = 25 $Y = 3 len = 25 piece1 = 25
56789012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 4 len = 75 piece2 = 75
4:2345678901234567890123456789 $X = 30 $Y = 4 len = 30 piece1 = 30
012345678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 5 len = 70 piece2 = 70
5:234567890123456789012345678901234 $X = 35 $Y = 5 len = 35 piece1 = 35
5678901234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 6 len = 65 piece2 = 65
6:23456789012345678901234567890123456789 $X = 40 $Y = 6 len = 40 piece1 = 40
01234567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 7 len = 60 piece2 = 60
7:2345678901234567890123456789012345678901234 $X = 45 $Y = 7 len = 45 piece1 = 45
567890123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 8 len = 55 piece2 = 55
8:234567890123456789012345678901234567890123456789 $X = 50 $Y = 8 len = 50 piece1 = 50
0123456789012345678901234567890123456789012345678Շ $X = 0 $Y = 9 len = 50 piece2 = 50
9:23456789012345678901234567890123456789012345678901234 $X = 55 $Y = 9 len = 55 piece1 = 55
56789012345678901234567890123456789012345678Շ $X = 0 $Y = 10 len = 45 piece2 = 45
pipe1 OPEN PIPE COMMAND="cat ./dfilefixed.out" FIXED READ REC=101 WIDTH=100 

setenv gtm_chset M
unset echo
###################################################################
**************************** shortutf ***********************
###################################################################
uout_with_bom:
239 187 191 94 10 
uout_without_bom:
94 10 
setenv gtm_chset UTF-8
unset echo

DISK TESTS
-^-
-^-
-^-
-^-

PIPE TESTS
-^-
-^-
-^-
-^-

FIFO TESTS
-^-
-^-
-^-
-^-
###################################################################
**************************** utffifo ***********************
###################################################################
Testing fifo for the non-fixed case in utf mode
Testing input of 10 utf characters produced by u10.m with newline and normal termination
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
fifo2.test OPEN FIFO CHSET=UTF-8 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
fifo2.test OPEN FIFO 
##ALLOW_OUTPUT HOST_OS390_S390

testing r x:0 with newline so no timeout
->ՇՈՉՊՋՌՍՎՏՐ<-
$device = 0 $za = 0 $test = 1

testing r x:5 with newline so no timeout
->ՇՈՉՊՋՌՍՎՏՐ<-
$device = 0 $za = 0 $test = 1
Testing fifo for the fixed case in utf mode
Testing input of 10 utf characters and expect normal termination
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
fifo2.test OPEN FIFO FIXED REC=20 CHSET=UTF-8 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
fifo2.test OPEN FIFO FIXED REC=20 
##ALLOW_OUTPUT HOST_OS390_S390

testing r x:0
->ՇՈՉՊՋՌՍՎՏՐ<-
$device = 0 $za = 0 $test = 1

testing r x:5
->ՇՈՉՊՋՌՍՎՏՐ<-
$device = 0 $za = 0 $test = 1
###################################################################
**************************** fbadinput2 ***********************
###################################################################
Testing fifo for the non-fixed case in utf mode
Testing input of 10 utf characters produced by u10.m where no newline is returned, but we want to get partial input
##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
fifo.test OPEN FIFO CHSET=UTF-8 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
fifo.test OPEN FIFO 
##ALLOW_OUTPUT HOST_OS390_S390

testing r x:0
->ՇՈՉՊՋՌՍՎՏՐ<-
$device = 0 $za = 0 $test = 0

testing r x:5
->ՇՈՉՊՋՌՍՎՏՐ<-
$device = 0 $za = 0 $test = 0

Testing fifo for the fixed case in utf mode
Testing input of the phrase of 10 utf characters produced by u10.m where no newline is returned,
strip_cr will strip out the newline so input will be less than recordsize

##SUSPEND_OUTPUT HOST_ALL
##ALLOW_OUTPUT HOST_OS390_S390
0 OPEN RMS FILETAG=UNTAGGED TEXT 
fifo2.test OPEN FIFO FIXED REC=30 CHSET=UTF-8 
##ALLOW_OUTPUT HOST_ALL
##SUSPEND_OUTPUT HOST_OS390_S390
0 OPEN RMS STREAM NOWRAP 
0-out OPEN RMS STREAM NOWRAP 
fifo2.test OPEN FIFO FIXED REC=30 
##ALLOW_OUTPUT HOST_OS390_S390

testing r x:0
->ՇՈՉՊՋՌՍՎՏՐ<-
$device = 0 $za = 0 $test = 0

testing r x:5
->ՇՈՉՊՋՌՍՎՏՐ<-
$device = 0 $za = 0 $test = 0
setenv gtm_chset M
unset echo
##ALLOW_OUTPUT NON_UTF8
##SOURCE_PATH##/mupip
##SOURCE_PATH##/mupip integ -REG *
No errors detected by integ.
