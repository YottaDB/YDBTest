setenv gtm_chset M
unset echo
Files Created in ##TEST_PATH##:
Using: ##SOURCE_PATH##/mumps -run GDE
mumps.gld
Using: ##SOURCE_PATH##/mupip
mumps.dat
###################################################################
**************************** wrany in M mode ****************************
###################################################################
0  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE
100  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB
200  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS
300  333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
400  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG
500  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH
600  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
700  ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
800  ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
900  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
1000  fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff

Do some reads and writes followed by truncates
seek to 400 and truncate
Mvar:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB
SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS
333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
write line of NW1 at eof
Mvar:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB
SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS
333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1
relative seek -300 and write line of NW2
Mvar:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB
NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2
333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1
truncate after NW2 line
Mvar:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB
NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2
rewind, read first line then truncate
x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE
Mvar:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE
rewind, replace first line with line of NW3
Mvar:
NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3

0  NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3

Do some writes followed by close nodestroy then reopen in various ways
read offset=0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE zkey= 100
100  BBB -> ZZ1
200  SSS -> ZZ2
400  GGG -> ZZ3
0  EEE -> ZZ4
1000  fff -> ZZ5
Mvar:
ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4
ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1
ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2
333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3
HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5

0  ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4
100  ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1
200  ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2
300  333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
400  ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3
500  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH
600  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
700  ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
800  ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
900  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
1000  ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5

 choose absolute seek values from t(1,...), read then seek to beginning of word and write a ZAP line
have a pipe process(zap2pip.m) write a PIP line in same location
choice = 600 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb zkey= 700
choice = 400 x= GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG zkey= 500
choice = 300 x= 333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333 zkey= 400
choice = 300 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP zkey= 400
choice = 1000 x= fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff zkey= 1100
choice = 400 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP zkey= 500
choice = 100 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB zkey= 200
Mvar:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE
PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS
PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH
PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP

0  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE
100  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
200  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS
300  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
400  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
500  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH
600  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
700  ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
800  ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
900  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
1000  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP

choose absolute seek values from t(2,...), write ZAP
choice = 300
choice = 0
choice = 1000
choice = 100
choice = 600
choice = 300
choice = 600
Mvar:
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG
HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP

0  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
100  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
200  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS
300  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
400  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG
500  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH
600  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
700  ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
800  ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
900  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
1000  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP

 choose relative seek from t(3,...) then use t(4,...) to decide to WRITE ZAP or read and output
relative seek value=+200
offset before read = 200 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS zkey= 300
relative seek value=-0
offset before read = 300 x= 333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333 zkey= 400
relative seek value=+100
offset before write ZAP = 500 zkey= 600
relative seek value=+0
offset before write ZAP = 600 zkey= 700
relative seek value=-100
offset before write ZAP = 600 zkey= 700
relative seek value=-500
offset before write ZAP = 200 zkey= 300
relative seek value=-0
offset before write ZAP = 300 zkey= 400
relative seek value=-400
offset before read = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE zkey= 100
relative seek value=+400
offset before write ZAP = 500 zkey= 600
relative seek value=-300
offset before write ZAP = 300 zkey= 400
relative seek value=-300
offset before read = 100 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB zkey= 200
relative seek value=+800
offset before write ZAP = 1000 zkey= 1100
relative seek value=-300
offset before read = 800 x= ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd zkey= 900
Mvar:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP

0  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE
100  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB
200  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
300  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
400  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG
500  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
600  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
700  ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
800  ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
900  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
1000  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP

 choose absolute seek from t(5,...) then use t(6,...) to decide to WRITE ZAP or read and output
read value, choice = 600 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb zkey= 700
write ZAP, choice = 400 zkey= 500
read value, choice = 500 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH zkey= 600
read value, choice = 600 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb zkey= 700
read value, choice = 200 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS zkey= 300
read value, choice = 200 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS zkey= 300
read value, choice = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE zkey= 100
write ZAP, choice = 0 zkey= 100
write ZAP, choice = 1000 zkey= 1100
read value, choice = 600 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb zkey= 700
read value, choice = 500 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH zkey= 600
write ZAP, choice = 100 zkey= 200
Mvar:
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS
333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP

0  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
100  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
200  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS
300  333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
400  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
500  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH
600  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
700  ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
800  ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
900  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
1000  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP

 OPEN WRITEONLY a non-empty file to generate an error if UTF 

 OPEN WRITEONLY an empty file and write to it, rewind and write again

This is the first line - 2

###################################################################
**************************** wranyfix in M mode ****************************
###################################################################
0  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE
1  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS
3  3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
4  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH
6  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
7  cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
8  dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
10  ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff

Do some reads and writes followed by truncates
seek to record 4 and truncate
Mfix:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
write line of NW1 at eof
Mfix:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1N
relative seek -3 records and write line of NW2
Mfix:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBNW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2N3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1N
truncate after NW2 line
Mfix:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBNW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2N
rewind, read first line then truncate
x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE
Mfix:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE
rewind, replace first line with line of NW3
Mfix:
NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3N
0  NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3N

Do some writes followed by close nodestroy then reopen in various ways
read offset=0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE zkey= 1,0
1  BBB -> ZZ1
2  SSS -> ZZ2
4  GGG -> ZZ3
0  EEE -> ZZ4
10  fff -> ZZ5
Mfix:
ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2Z3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5Z
0  ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4Z
1  ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1Z
2  ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2Z
3  3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
4  ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3Z
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH
6  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
7  cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
8  dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
10  ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5Z

 choose absolute seek values from t(1,...), read then seek to beginning of word and write a ZAP line
have a pipe process(zap2pipfix.m) write a PIP line in same location
choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb zkey= 7,0
choice = 4 x= GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG zkey= 5,0
choice = 3 x= 3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333 zkey= 4,0
choice = 3 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP zkey= 4,0
choice = 10 x= ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff zkey= 11,0
choice = 4 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP zkey= 5,0
choice = 1 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB zkey= 2,0
choice = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE zkey= 1,0
Mfix:
PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeePIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP
0  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP
1  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS
3  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP
4  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH
6  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP
7  cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
8  dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
10  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP

choose absolute seek values from t(2,...), write ZAP
choice = 3
choice = 0
choice = 10
choice = 1
choice = 6
choice = 3
choice = 6
Mfix:
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
0  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
1  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS
3  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
4  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH
6  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
7  cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
8  dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
10  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ

 choose relative seek from t(3,...) then use t(4,...) to decide to WRITE ZAP or read and output
relative seek value=+2
offset before read = 2 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS zkey= 3,0
relative seek value=-0
offset before read = 3 x= 3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333 zkey= 4,0
relative seek value=+1
offset before write ZAP = 5 zkey= 6,0
relative seek value=+0
offset before write ZAP = 6 zkey= 7,0
relative seek value=-1
offset before write ZAP = 6 zkey= 7,0
relative seek value=-5
offset before write ZAP = 2 zkey= 3,0
relative seek value=-0
offset before write ZAP = 3 zkey= 4,0
relative seek value=-4
offset before read = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE zkey= 1,0
relative seek value=+4
offset before write ZAP = 5 zkey= 6,0
relative seek value=-3
offset before write ZAP = 3 zkey= 4,0
relative seek value=-3
offset before read = 1 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB zkey= 2,0
relative seek value=+8
offset before write ZAP = 10 zkey= 11,0
relative seek value=-3
offset before read = 8 x= dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd zkey= 9,0
Mfix:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
0  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE
1  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB
2  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
3  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
4  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG
5  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
6  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
7  cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
8  dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
10  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ

 choose absolute seek from t(5,...) then use t(6,...) to decide to WRITE ZAP or read and output
read value, choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb zkey= 7,0
write ZAP, choice = 4 zkey= 5,0
read value, choice = 5 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH zkey= 6,0
read value, choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb zkey= 7,0
read value, choice = 2 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS zkey= 3,0
read value, choice = 2 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS zkey= 3,0
read value, choice = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE zkey= 1,0
write ZAP, choice = 0 zkey= 1,0
write ZAP, choice = 10 zkey= 11,0
read value, choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb zkey= 7,0
read value, choice = 5 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH zkey= 6,0
write ZAP, choice = 1 zkey= 2,0
Mfix:
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
0  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
1  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS
3  3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
4  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH
6  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
7  cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
8  dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
10  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ

 OPEN WRITEONLY a non-empty file to generate an error if UTF 

 OPEN WRITEONLY an empty file and write to it, seek=-1 and write again

NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1N
##SUSPEND_OUTPUT NON_UTF8
###################################################################
**************************** UTF-8 wrany no BOM ****************************
###################################################################
setenv gtm_chset UTF-8
unset echo
0  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
100  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
200  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
300  3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
400  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
500  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
600  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
700  cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
800  dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
900  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1000  fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffՇ

Do some reads and writes followed by truncates
seek to 400 and truncate
utf8var_NOBOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
write line of NW1 at eof
utf8var_NOBOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1
relative seek -300 and write line of NW2
utf8var_NOBOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2
3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1
truncate after NW2 line
utf8var_NOBOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2
rewind, read first line then truncate
x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
utf8var_NOBOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
rewind, replace first line with line of NW3
utf8var_NOBOM:
NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3

0  NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3

Do some writes followed by close nodestroy then reopen in various ways
read offset=0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 100
100  BBB -> ZZ1
200  SSS -> ZZ2
400  GGG -> ZZ3
0  EEE -> ZZ4
1000  fff -> ZZ5
utf8var_NOBOM:
ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4
ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1
ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2
3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3
HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5

0  ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4
100  ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1
200  ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2
300  3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
400  ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3
500  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
600  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
700  cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
800  dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
900  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1000  ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5

 choose absolute seek values from t(1,...), read then seek to beginning of word and write a ZAP line
have a pipe process(zap2pip.m) write a PIP line in same location
choice = 600 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 700
choice = 400 x= GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ zkey= 500
choice = 300 x= 3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ zkey= 400
choice = 300 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP zkey= 400
choice = 1000 x= fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffՇ zkey= 1100
choice = 400 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP zkey= 500
choice = 100 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ zkey= 200
utf8var_NOBOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP

0  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
100  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
200  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
300  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
400  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
500  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
600  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
700  cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
800  dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
900  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1000  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP

choose absolute seek values from t(2,...), write ZAP
choice = 300
choice = 0
choice = 1000
choice = 100
choice = 600
choice = 300
choice = 600
utf8var_NOBOM:
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP

0  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
100  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
200  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
300  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
400  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
500  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
600  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
700  cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
800  dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
900  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1000  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP

 choose relative seek from t(3,...) then use t(4,...) to decide to WRITE ZAP or read and output
relative seek value=+200
offset before read = 200 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 300
relative seek value=-0
offset before read = 300 x= 3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ zkey= 400
relative seek value=+100
offset before write ZAP = 500 zkey= 600
relative seek value=+0
offset before write ZAP = 600 zkey= 700
relative seek value=-100
offset before write ZAP = 600 zkey= 700
relative seek value=-500
offset before write ZAP = 200 zkey= 300
relative seek value=-0
offset before write ZAP = 300 zkey= 400
relative seek value=-400
offset before read = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 100
relative seek value=+400
offset before write ZAP = 500 zkey= 600
relative seek value=-300
offset before write ZAP = 300 zkey= 400
relative seek value=-300
offset before read = 100 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ zkey= 200
relative seek value=+800
offset before write ZAP = 1000 zkey= 1100
relative seek value=-300
offset before read = 800 x= dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ zkey= 900
utf8var_NOBOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP

0  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
100  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
200  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
300  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
400  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
500  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
600  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
700  cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
800  dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
900  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1000  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP

 choose absolute seek from t(5,...) then use t(6,...) to decide to WRITE ZAP or read and output
read value, choice = 600 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 700
write ZAP, choice = 400 zkey= 500
read value, choice = 500 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ zkey= 600
read value, choice = 600 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 700
read value, choice = 200 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 300
read value, choice = 200 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 300
read value, choice = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 100
write ZAP, choice = 0 zkey= 100
write ZAP, choice = 1000 zkey= 1100
read value, choice = 600 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 700
read value, choice = 500 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ zkey= 600
write ZAP, choice = 100 zkey= 200
utf8var_NOBOM:
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP

0  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
100  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
200  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
300  3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
400  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
500  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
600  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
700  cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
800  dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
900  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1000  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP

 OPEN WRITEONLY a non-empty file to generate an error if UTF 
STAT=wrany+281^wrany,%YDB-E-DEVOPENFAIL, Error opening utf8var_NOBOM,%YDB-I-TEXT, Cannot read BOM from non-empty WRITEONLY file

 OPEN WRITEONLY an empty file and write to it, rewind and write again

This is the first line - 2

###################################################################
**************************** UTF-8 wrany with BOM ****************************
###################################################################
3  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
103  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
203  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
303  3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
403  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
503  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
603  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
703  cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
803  dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
903  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1003  fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffՇ

Do some reads and writes followed by truncates
seek to 403 and truncate
utf8var_BOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
write line of NW1 at eof
utf8var_BOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1
relative seek -300 and write line of NW2
utf8var_BOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2
3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1
truncate after NW2 line
utf8var_BOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2
rewind, read first line then truncate
x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
utf8var_BOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
rewind, replace first line with line of NW3
utf8var_BOM:
NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3

0  NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3

Do some writes followed by close nodestroy then reopen in various ways
read offset=0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 103
103  BBB -> ZZ1
203  SSS -> ZZ2
403  GGG -> ZZ3
0  EEE -> ZZ4
1003  fff -> ZZ5
utf8var_BOM:
ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4
ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1
ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2
3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3
HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5

3  ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4
103  ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1
203  ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2
303  3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
403  ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3
503  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
603  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
703  cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
803  dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
903  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1003  ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5

 choose absolute seek values from t(1,...), read then seek to beginning of word and write a ZAP line
have a pipe process(zap2pip.m) write a PIP line in same location
choice = 603 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 703
choice = 403 x= GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ zkey= 503
choice = 303 x= 3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ zkey= 403
choice = 303 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP zkey= 403
choice = 1003 x= fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffՇ zkey= 1103
choice = 403 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP zkey= 503
choice = 103 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ zkey= 203
utf8var_BOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP

3  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
103  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
203  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
303  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
403  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
503  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
603  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP
703  cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
803  dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
903  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1003  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIP

choose absolute seek values from t(2,...), write ZAP
choice = 303
choice = 0
choice = 1003
choice = 103
choice = 603
choice = 303
choice = 603
utf8var_BOM:
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP

3  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
103  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
203  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
303  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
403  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
503  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
603  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
703  cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
803  dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
903  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1003  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP

 choose relative seek from t(3,...) then use t(4,...) to decide to WRITE ZAP or read and output
relative seek value=+203
offset before read = 203 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 303
relative seek value=-0
offset before read = 303 x= 3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ zkey= 403
relative seek value=+100
offset before write ZAP = 503 zkey= 603
relative seek value=+0
offset before write ZAP = 603 zkey= 703
relative seek value=-100
offset before write ZAP = 603 zkey= 703
relative seek value=-500
offset before write ZAP = 203 zkey= 303
relative seek value=-0
offset before write ZAP = 303 zkey= 403
relative seek value=-400
offset before read = 3 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 103
relative seek value=+400
offset before write ZAP = 503 zkey= 603
relative seek value=-300
offset before write ZAP = 303 zkey= 403
relative seek value=-300
offset before read = 103 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ zkey= 203
relative seek value=+800
offset before write ZAP = 1003 zkey= 1103
relative seek value=-300
offset before read = 803 x= dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ zkey= 903
utf8var_BOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP

3  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
103  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
203  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
303  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
403  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
503  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
603  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
703  cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
803  dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
903  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1003  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP

 choose absolute seek from t(5,...) then use t(6,...) to decide to WRITE ZAP or read and output
read value, choice = 603 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 703
write ZAP, choice = 403 zkey= 503
read value, choice = 503 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ zkey= 603
read value, choice = 603 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 703
read value, choice = 203 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 303
read value, choice = 203 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 303
read value, choice = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 103
write ZAP, choice = 0 zkey= 103
write ZAP, choice = 1003 zkey= 1103
read value, choice = 603 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 703
read value, choice = 503 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ zkey= 603
write ZAP, choice = 103 zkey= 203
utf8var_BOM:
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP

3  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
103  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
203  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
303  3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
403  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP
503  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
603  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
703  cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
803  dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
903  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1003  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAP

 OPEN WRITEONLY a non-empty file to generate an error if UTF 
STAT=wrany+281^wrany,%YDB-E-DEVOPENFAIL, Error opening utf8var_BOM,%YDB-I-TEXT, Cannot read BOM from non-empty WRITEONLY file

 OPEN WRITEONLY an empty file and write to it, rewind and write again

This is the first line - 2

###################################################################
**************************** UTF-16 wrany with BOM ****************************
###################################################################
Debugging outputs from utf16var_BOM will be in utf16var_BOM.outx

2  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
102  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
202  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
302  333333333333333333333333333333333333333333333333Շ
402  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
502  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
602  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
702  ccccccccccccccccccccccccccccccccccccccccccccccccՇ
802  ddddddddddddddddddddddddddddddddddddddddddddddddՇ
902  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1002  ffffffffffffffffffffffffffffffffffffffffffffffffՇ

Do some reads and writes followed by truncates
seek to 402 and truncate
write line of NW1 at eof
relative seek -300 and write line of NW2
truncate after NW2 line
rewind, read first line then truncate
x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
rewind, replace first line with line of NW3

0  NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3N

Do some writes followed by close nodestroy then reopen in various ways
read offset=0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 102
102  BBB -> ZZ1
202  SSS -> ZZ2
402  GGG -> ZZ3
0  EEE -> ZZ4
1002  fff -> ZZ5

2  ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4Z
102  ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1Z
202  ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2Z
302  333333333333333333333333333333333333333333333333Շ
402  ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3Z
502  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
602  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
702  ccccccccccccccccccccccccccccccccccccccccccccccccՇ
802  ddddddddddddddddddddddddddddddddddddddddddddddddՇ
902  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1002  ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5Z

 choose absolute seek values from t(1,...), read then seek to beginning of word and write a ZAP line
have a pipe process(zap2pip.m) write a PIP line in same location
choice = 602 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 702
choice = 402 x= GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ zkey= 502
choice = 302 x= 333333333333333333333333333333333333333333333333Շ zkey= 402
choice = 302 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP zkey= 402
choice = 1002 x= ffffffffffffffffffffffffffffffffffffffffffffffffՇ zkey= 1102
choice = 402 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP zkey= 502
choice = 102 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ zkey= 202

2  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
102  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP
202  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
302  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP
402  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP
502  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
602  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP
702  ccccccccccccccccccccccccccccccccccccccccccccccccՇ
802  ddddddddddddddddddddddddddddddddddddddddddddddddՇ
902  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1002  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP

choose absolute seek values from t(2,...), write ZAP
choice = 302
choice = 0
choice = 1002
choice = 102
choice = 602
choice = 302
choice = 602

2  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
102  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
202  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
302  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
402  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
502  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
602  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
702  ccccccccccccccccccccccccccccccccccccccccccccccccՇ
802  ddddddddddddddddddddddddddddddddddddddddddddddddՇ
902  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1002  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ

 choose relative seek from t(3,...) then use t(4,...) to decide to WRITE ZAP or read and output
relative seek value=+202
offset before read = 202 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 302
relative seek value=-0
offset before read = 302 x= 333333333333333333333333333333333333333333333333Շ zkey= 402
relative seek value=+100
offset before write ZAP = 502 zkey= 602
relative seek value=+0
offset before write ZAP = 602 zkey= 702
relative seek value=-100
offset before write ZAP = 602 zkey= 702
relative seek value=-500
offset before write ZAP = 202 zkey= 302
relative seek value=-0
offset before write ZAP = 302 zkey= 402
relative seek value=-400
offset before read = 2 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 102
relative seek value=+400
offset before write ZAP = 502 zkey= 602
relative seek value=-300
offset before write ZAP = 302 zkey= 402
relative seek value=-300
offset before read = 102 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ zkey= 202
relative seek value=+800
offset before write ZAP = 1002 zkey= 1102
relative seek value=-300
offset before read = 802 x= ddddddddddddddddddddddddddddddddddddddddddddddddՇ zkey= 902

2  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
102  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
202  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
302  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
402  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
502  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
602  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
702  ccccccccccccccccccccccccccccccccccccccccccccccccՇ
802  ddddddddddddddddddddddddddddddddddddddddddddddddՇ
902  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1002  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ

 choose absolute seek from t(5,...) then use t(6,...) to decide to WRITE ZAP or read and output
read value, choice = 602 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 702
write ZAP, choice = 402 zkey= 502
read value, choice = 502 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ zkey= 602
read value, choice = 602 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 702
read value, choice = 202 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 302
read value, choice = 202 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 302
read value, choice = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 102
write ZAP, choice = 0 zkey= 102
write ZAP, choice = 1002 zkey= 1102
read value, choice = 602 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 702
read value, choice = 502 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ zkey= 602
write ZAP, choice = 102 zkey= 202

2  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
102  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
202  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
302  333333333333333333333333333333333333333333333333Շ
402  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
502  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
602  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
702  ccccccccccccccccccccccccccccccccccccccccccccccccՇ
802  ddddddddddddddddddddddddddddddddddddddddddddddddՇ
902  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1002  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ

 OPEN WRITEONLY a non-empty file to generate an error if UTF 
STAT=wrany+281^wrany,%YDB-E-DEVOPENFAIL, Error opening utf16var_BOM,%YDB-I-TEXT, Cannot read BOM from non-empty WRITEONLY file

 OPEN WRITEONLY an empty file and write to it, rewind and write again

 T h i s   i s   t h e   f i r s t   l i n e   -   2 

###################################################################
**************************** UTF-16LE wrany no BOM ****************************
###################################################################
Debugging outputs from utf16LEvar_NOBOM will be in utf16LEvar_NOBOM.outx

0  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
100  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
200  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
300  333333333333333333333333333333333333333333333333Շ
400  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
500  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
600  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
700  ccccccccccccccccccccccccccccccccccccccccccccccccՇ
800  ddddddddddddddddddddddddddddddddddddddddddddddddՇ
900  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1000  ffffffffffffffffffffffffffffffffffffffffffffffffՇ

Do some reads and writes followed by truncates
seek to 400 and truncate
write line of NW1 at eof
relative seek -300 and write line of NW2
truncate after NW2 line
rewind, read first line then truncate
x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
rewind, replace first line with line of NW3

0  NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3N

Do some writes followed by close nodestroy then reopen in various ways
read offset=0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 100
100  BBB -> ZZ1
200  SSS -> ZZ2
400  GGG -> ZZ3
0  EEE -> ZZ4
1000  fff -> ZZ5

0  ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4Z
100  ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1Z
200  ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2Z
300  333333333333333333333333333333333333333333333333Շ
400  ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3Z
500  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
600  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
700  ccccccccccccccccccccccccccccccccccccccccccccccccՇ
800  ddddddddddddddddddddddddddddddddddddddddddddddddՇ
900  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1000  ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5Z

 choose absolute seek values from t(1,...), read then seek to beginning of word and write a ZAP line
have a pipe process(zap2pip.m) write a PIP line in same location
choice = 600 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 700
choice = 400 x= GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ zkey= 500
choice = 300 x= 333333333333333333333333333333333333333333333333Շ zkey= 400
choice = 300 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP zkey= 400
choice = 1000 x= ffffffffffffffffffffffffffffffffffffffffffffffffՇ zkey= 1100
choice = 400 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP zkey= 500
choice = 100 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ zkey= 200

0  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
100  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP
200  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
300  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP
400  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP
500  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
600  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP
700  ccccccccccccccccccccccccccccccccccccccccccccccccՇ
800  ddddddddddddddddddddddddddddddddddddddddddddddddՇ
900  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1000  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP

choose absolute seek values from t(2,...), write ZAP
choice = 300
choice = 0
choice = 1000
choice = 100
choice = 600
choice = 300
choice = 600

0  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
100  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
200  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
300  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
400  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
500  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
600  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
700  ccccccccccccccccccccccccccccccccccccccccccccccccՇ
800  ddddddddddddddddddddddddddddddddddddddddddddddddՇ
900  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1000  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ

 choose relative seek from t(3,...) then use t(4,...) to decide to WRITE ZAP or read and output
relative seek value=+200
offset before read = 200 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 300
relative seek value=-0
offset before read = 300 x= 333333333333333333333333333333333333333333333333Շ zkey= 400
relative seek value=+100
offset before write ZAP = 500 zkey= 600
relative seek value=+0
offset before write ZAP = 600 zkey= 700
relative seek value=-100
offset before write ZAP = 600 zkey= 700
relative seek value=-500
offset before write ZAP = 200 zkey= 300
relative seek value=-0
offset before write ZAP = 300 zkey= 400
relative seek value=-400
offset before read = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 100
relative seek value=+400
offset before write ZAP = 500 zkey= 600
relative seek value=-300
offset before write ZAP = 300 zkey= 400
relative seek value=-300
offset before read = 100 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ zkey= 200
relative seek value=+800
offset before write ZAP = 1000 zkey= 1100
relative seek value=-300
offset before read = 800 x= ddddddddddddddddddddddddddddddddddddddddddddddddՇ zkey= 900

0  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
100  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
200  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
300  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
400  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
500  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
600  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
700  ccccccccccccccccccccccccccccccccccccccccccccccccՇ
800  ddddddddddddddddddddddddddddddddddddddddddddddddՇ
900  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1000  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ

 choose absolute seek from t(5,...) then use t(6,...) to decide to WRITE ZAP or read and output
read value, choice = 600 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 700
write ZAP, choice = 400 zkey= 500
read value, choice = 500 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ zkey= 600
read value, choice = 600 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 700
read value, choice = 200 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 300
read value, choice = 200 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 300
read value, choice = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 100
write ZAP, choice = 0 zkey= 100
write ZAP, choice = 1000 zkey= 1100
read value, choice = 600 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 700
read value, choice = 500 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ zkey= 600
write ZAP, choice = 100 zkey= 200

0  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
100  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
200  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
300  333333333333333333333333333333333333333333333333Շ
400  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
500  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
600  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
700  ccccccccccccccccccccccccccccccccccccccccccccccccՇ
800  ddddddddddddddddddddddddddddddddddddddddddddddddՇ
900  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1000  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ

 OPEN WRITEONLY a non-empty file to generate an error if UTF 
STAT=wrany+281^wrany,%YDB-E-DEVOPENFAIL, Error opening utf16LEvar_NOBOM,%YDB-I-TEXT, Cannot read BOM from non-empty WRITEONLY file

 OPEN WRITEONLY an empty file and write to it, rewind and write again

T h i s   i s   t h e   f i r s t   l i n e   -   2 
 
###################################################################
**************************** UTF-16LE wrany with BOM ****************************
###################################################################
Debugging outputs from utf16LEvar_BOM will be in utf16LEvar_BOM.outx

2  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
102  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
202  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
302  333333333333333333333333333333333333333333333333Շ
402  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
502  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
602  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
702  ccccccccccccccccccccccccccccccccccccccccccccccccՇ
802  ddddddddddddddddddddddddddddddddddddddddddddddddՇ
902  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1002  ffffffffffffffffffffffffffffffffffffffffffffffffՇ

Do some reads and writes followed by truncates
seek to 402 and truncate
write line of NW1 at eof
relative seek -300 and write line of NW2
truncate after NW2 line
rewind, read first line then truncate
x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
rewind, replace first line with line of NW3

0  NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3N

Do some writes followed by close nodestroy then reopen in various ways
read offset=0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 102
102  BBB -> ZZ1
202  SSS -> ZZ2
402  GGG -> ZZ3
0  EEE -> ZZ4
1002  fff -> ZZ5

2  ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4Z
102  ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1Z
202  ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2Z
302  333333333333333333333333333333333333333333333333Շ
402  ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3Z
502  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
602  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
702  ccccccccccccccccccccccccccccccccccccccccccccccccՇ
802  ddddddddddddddddddddddddddddddddddddddddddddddddՇ
902  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1002  ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5Z

 choose absolute seek values from t(1,...), read then seek to beginning of word and write a ZAP line
have a pipe process(zap2pip.m) write a PIP line in same location
choice = 602 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 702
choice = 402 x= GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ zkey= 502
choice = 302 x= 333333333333333333333333333333333333333333333333Շ zkey= 402
choice = 302 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP zkey= 402
choice = 1002 x= ffffffffffffffffffffffffffffffffffffffffffffffffՇ zkey= 1102
choice = 402 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP zkey= 502
choice = 102 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ zkey= 202

2  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
102  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP
202  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
302  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP
402  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP
502  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
602  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP
702  ccccccccccccccccccccccccccccccccccccccccccccccccՇ
802  ddddddddddddddddddddddddddddddddddddddddddddddddՇ
902  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1002  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPP

choose absolute seek values from t(2,...), write ZAP
choice = 302
choice = 0
choice = 1002
choice = 102
choice = 602
choice = 302
choice = 602

2  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
102  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
202  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
302  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
402  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
502  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
602  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
702  ccccccccccccccccccccccccccccccccccccccccccccccccՇ
802  ddddddddddddddddddddddddddddddddddddddddddddddddՇ
902  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1002  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ

 choose relative seek from t(3,...) then use t(4,...) to decide to WRITE ZAP or read and output
relative seek value=+202
offset before read = 202 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 302
relative seek value=-0
offset before read = 302 x= 333333333333333333333333333333333333333333333333Շ zkey= 402
relative seek value=+100
offset before write ZAP = 502 zkey= 602
relative seek value=+0
offset before write ZAP = 602 zkey= 702
relative seek value=-100
offset before write ZAP = 602 zkey= 702
relative seek value=-500
offset before write ZAP = 202 zkey= 302
relative seek value=-0
offset before write ZAP = 302 zkey= 402
relative seek value=-400
offset before read = 2 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 102
relative seek value=+400
offset before write ZAP = 502 zkey= 602
relative seek value=-300
offset before write ZAP = 302 zkey= 402
relative seek value=-300
offset before read = 102 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ zkey= 202
relative seek value=+800
offset before write ZAP = 1002 zkey= 1102
relative seek value=-300
offset before read = 802 x= ddddddddddddddddddddddddddddddddddddddddddddddddՇ zkey= 902

2  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
102  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
202  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
302  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
402  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
502  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
602  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
702  ccccccccccccccccccccccccccccccccccccccccccccccccՇ
802  ddddddddddddddddddddddddddddddddddddddddddddddddՇ
902  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1002  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ

 choose absolute seek from t(5,...) then use t(6,...) to decide to WRITE ZAP or read and output
read value, choice = 602 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 702
write ZAP, choice = 402 zkey= 502
read value, choice = 502 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ zkey= 602
read value, choice = 602 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 702
read value, choice = 202 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 302
read value, choice = 202 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 302
read value, choice = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 102
write ZAP, choice = 0 zkey= 102
write ZAP, choice = 1002 zkey= 1102
read value, choice = 602 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 702
read value, choice = 502 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ zkey= 602
write ZAP, choice = 102 zkey= 202

2  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
102  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
202  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
302  333333333333333333333333333333333333333333333333Շ
402  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ
502  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
602  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
702  ccccccccccccccccccccccccccccccccccccccccccccccccՇ
802  ddddddddddddddddddddddddddddddddddddddddddddddddՇ
902  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
1002  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZ

 OPEN WRITEONLY a non-empty file to generate an error if UTF 
STAT=wrany+281^wrany,%YDB-E-DEVOPENFAIL, Error opening utf16LEvar_BOM,%YDB-I-TEXT, Cannot read BOM from non-empty WRITEONLY file

 OPEN WRITEONLY an empty file and write to it, rewind and write again

T h i s   i s   t h e   f i r s t   l i n e   -   2 
 
###################################################################
**************************** UTF-8 wranyfix no BOM ****************************
###################################################################
setenv gtm_chset UTF-8
unset echo
0  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
1  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3  33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
4  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
7  ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffՇ

Do some reads and writes followed by truncates
seek to record 4 and truncate
utf8fix_NOBOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
write line of NW1 at eof
utf8fix_NOBOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333ՇNW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NWՇ
relative seek -3 records and write line of NW2
utf8fix_NOBOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇNW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NWՇ33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333ՇNW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NWՇ
truncate after NW2 line
utf8fix_NOBOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇNW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NWՇ
rewind, read first line then truncate
x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
utf8fix_NOBOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
rewind, replace first line with line of NW3
utf8fix_NOBOM:
NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NWՇ
0  NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NWՇ

Do some writes followed by close nodestroy then reopen in various ways
read offset=0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 1,0
1  BBB -> ZZ1
2  SSS -> ZZ2
4  GGG -> ZZ3
0  EEE -> ZZ4
10  fff -> ZZ5
utf8fix_NOBOM:
ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZՇZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZՇZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZՇ33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333ՇZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZՇHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZՇ
0  ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZՇ
1  ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZՇ
2  ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZՇ
3  33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
4  ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZՇ
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
7  ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZՇ

 choose absolute seek values from t(1,...), read then seek to beginning of word and write a ZAP line
have a pipe process(zap2pipfix.m) write a PIP line in same location
choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 7,0
choice = 4 x= GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ zkey= 5,0
choice = 3 x= 33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ zkey= 4,0
choice = 3 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇ zkey= 4,0
choice = 10 x= ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffՇ zkey= 11,0
choice = 4 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇ zkey= 5,0
choice = 1 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ zkey= 2,0
choice = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 1,0
utf8fix_NOBOM:
PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇ
0  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇ
1  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇ
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇ
4  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇ
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇ
7  ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇ

choose absolute seek values from t(2,...), write ZAP
choice = 3
choice = 0
choice = 10
choice = 1
choice = 6
choice = 3
choice = 6
utf8fix_NOBOM:
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
0  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
1  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
4  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
7  ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ

 choose relative seek from t(3,...) then use t(4,...) to decide to WRITE ZAP or read and output
relative seek value=+2
offset before read = 2 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 3,0
relative seek value=-0
offset before read = 3 x= 33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ zkey= 4,0
relative seek value=+1
offset before write ZAP = 5 zkey= 6,0
relative seek value=+0
offset before write ZAP = 6 zkey= 7,0
relative seek value=-1
offset before write ZAP = 6 zkey= 7,0
relative seek value=-5
offset before write ZAP = 2 zkey= 3,0
relative seek value=-0
offset before write ZAP = 3 zkey= 4,0
relative seek value=-4
offset before read = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 1,0
relative seek value=+4
offset before write ZAP = 5 zkey= 6,0
relative seek value=-3
offset before write ZAP = 3 zkey= 4,0
relative seek value=-3
offset before read = 1 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ zkey= 2,0
relative seek value=+8
offset before write ZAP = 10 zkey= 11,0
relative seek value=-3
offset before read = 8 x= ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ zkey= 9,0
utf8fix_NOBOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
0  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
1  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
2  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
3  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
4  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
5  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
6  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
7  ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ

 choose absolute seek from t(5,...) then use t(6,...) to decide to WRITE ZAP or read and output
read value, choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 7,0
write ZAP, choice = 4 zkey= 5,0
read value, choice = 5 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ zkey= 6,0
read value, choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 7,0
read value, choice = 2 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 3,0
read value, choice = 2 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 3,0
read value, choice = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 1,0
write ZAP, choice = 0 zkey= 1,0
write ZAP, choice = 10 zkey= 11,0
read value, choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 7,0
read value, choice = 5 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ zkey= 6,0
write ZAP, choice = 1 zkey= 2,0
utf8fix_NOBOM:
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333ՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
0  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
1  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3  33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
4  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
7  ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ

 OPEN WRITEONLY a non-empty file to generate an error if UTF 
STAT=wranyfix+294^wranyfix,%YDB-E-DEVOPENFAIL, Error opening utf8fix_NOBOM,%YDB-I-TEXT, Cannot read BOM from non-empty WRITEONLY file

 OPEN WRITEONLY an empty file and write to it, seek=-1 and write again

NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NWՇ
###################################################################
**************************** UTF-8 wranyfix with BOM ****************************
###################################################################
0  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
1  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3  33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
4  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
7  ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffՇ

Do some reads and writes followed by truncates
seek to record 4 and truncate
utf8fix_BOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
write line of NW1 at eof
utf8fix_BOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333ՇNW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NWՇ
relative seek -3 records and write line of NW2
utf8fix_BOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇNW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NWՇ33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333ՇNW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NWՇ
truncate after NW2 line
utf8fix_BOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇNW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NW2NWՇ
rewind, read first line then truncate
x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
utf8fix_BOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
rewind, replace first line with line of NW3
utf8fix_BOM:
NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NWՇ
0  NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NWՇ

Do some writes followed by close nodestroy then reopen in various ways
read offset=0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 1,0
1  BBB -> ZZ1
2  SSS -> ZZ2
4  GGG -> ZZ3
0  EEE -> ZZ4
10  fff -> ZZ5
utf8fix_BOM:
ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZՇZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZՇZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZՇ33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333ՇZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZՇHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZՇ
0  ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZՇ
1  ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZՇ
2  ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZՇ
3  33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
4  ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZՇ
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
7  ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZՇ

 choose absolute seek values from t(1,...), read then seek to beginning of word and write a ZAP line
have a pipe process(zap2pipfix.m) write a PIP line in same location
choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 7,0
choice = 4 x= GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ zkey= 5,0
choice = 3 x= 33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ zkey= 4,0
choice = 3 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇ zkey= 4,0
choice = 10 x= ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffՇ zkey= 11,0
choice = 4 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇ zkey= 5,0
choice = 1 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ zkey= 2,0
choice = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 1,0
utf8fix_BOM:
PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇ
0  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇ
1  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇ
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇ
4  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇ
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇ
7  ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIՇ

choose absolute seek values from t(2,...), write ZAP
choice = 3
choice = 0
choice = 10
choice = 1
choice = 6
choice = 3
choice = 6
utf8fix_BOM:
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
0  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
1  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
4  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
7  ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ

 choose relative seek from t(3,...) then use t(4,...) to decide to WRITE ZAP or read and output
relative seek value=+2
offset before read = 2 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 3,0
relative seek value=-0
offset before read = 3 x= 33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ zkey= 4,0
relative seek value=+1
offset before write ZAP = 5 zkey= 6,0
relative seek value=+0
offset before write ZAP = 6 zkey= 7,0
relative seek value=-1
offset before write ZAP = 6 zkey= 7,0
relative seek value=-5
offset before write ZAP = 2 zkey= 3,0
relative seek value=-0
offset before write ZAP = 3 zkey= 4,0
relative seek value=-4
offset before read = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 1,0
relative seek value=+4
offset before write ZAP = 5 zkey= 6,0
relative seek value=-3
offset before write ZAP = 3 zkey= 4,0
relative seek value=-3
offset before read = 1 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ zkey= 2,0
relative seek value=+8
offset before write ZAP = 10 zkey= 11,0
relative seek value=-3
offset before read = 8 x= ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ zkey= 9,0
utf8fix_BOM:
EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
0  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
1  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
2  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
3  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
4  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
5  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
6  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
7  ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ

 choose absolute seek from t(5,...) then use t(6,...) to decide to WRITE ZAP or read and output
read value, choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 7,0
write ZAP, choice = 4 zkey= 5,0
read value, choice = 5 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ zkey= 6,0
read value, choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 7,0
read value, choice = 2 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 3,0
read value, choice = 2 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 3,0
read value, choice = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 1,0
write ZAP, choice = 0 zkey= 1,0
write ZAP, choice = 10 zkey= 11,0
read value, choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 7,0
read value, choice = 5 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ zkey= 6,0
write ZAP, choice = 1 zkey= 2,0
utf8fix_BOM:
ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333ՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
0  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
1  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3  33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333Շ
4  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
7  ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAՇ

 OPEN WRITEONLY a non-empty file to generate an error if UTF 
STAT=wranyfix+294^wranyfix,%YDB-E-DEVOPENFAIL, Error opening utf8fix_BOM,%YDB-I-TEXT, Cannot read BOM from non-empty WRITEONLY file

 OPEN WRITEONLY an empty file and write to it, seek=-1 and write again

NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NW1NWՇ
###################################################################
**************************** UTF-16 wranyfix with BOM ****************************
###################################################################
Debugging outputs from utf16fix_BOM will be in utf16fix_BOM.outx

0  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
1  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3  3333333333333333333333333333333333333333333333333Շ
4  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
7  cccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  dddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  fffffffffffffffffffffffffffffffffffffffffffffffffՇ

Do some reads and writes followed by truncates
seek to record 4 and truncate

write line of NW1 at eof

relative seek -3 records and write line of NW2

truncate after NW2 line

rewind, read first line then truncate
x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ

rewind, replace first line with line of NW3

0  NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW

Do some writes followed by close nodestroy then reopen in various ways
read offset=0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 1,0
1  BBB -> ZZ1
2  SSS -> ZZ2
4  GGG -> ZZ3
0  EEE -> ZZ4
10  fff -> ZZ5

0  ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ
1  ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ
2  ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ
3  3333333333333333333333333333333333333333333333333Շ
4  ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
7  cccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  dddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ

 choose absolute seek values from t(1,...), read then seek to beginning of word and write a ZAP line
have a pipe process(zap2pipfix.m) write a PIP line in same location
choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 7,0
choice = 4 x= GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ zkey= 5,0
choice = 3 x= 3333333333333333333333333333333333333333333333333Շ zkey= 4,0
choice = 3 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI zkey= 4,0
choice = 10 x= fffffffffffffffffffffffffffffffffffffffffffffffffՇ zkey= 11,0
choice = 4 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI zkey= 5,0
choice = 1 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ zkey= 2,0
choice = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 1,0

0  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI
1  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI
4  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI
7  cccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  dddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI

choose absolute seek values from t(2,...), write ZAP
choice = 3
choice = 0
choice = 10
choice = 1
choice = 6
choice = 3
choice = 6

0  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
1  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
4  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
7  cccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  dddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA

 choose relative seek from t(3,...) then use t(4,...) to decide to WRITE ZAP or read and output
relative seek value=+2
offset before read = 2 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 3,0
relative seek value=-0
offset before read = 3 x= 3333333333333333333333333333333333333333333333333Շ zkey= 4,0
relative seek value=+1
offset before write ZAP = 5 zkey= 6,0
relative seek value=+0
offset before write ZAP = 6 zkey= 7,0
relative seek value=-1
offset before write ZAP = 6 zkey= 7,0
relative seek value=-5
offset before write ZAP = 2 zkey= 3,0
relative seek value=-0
offset before write ZAP = 3 zkey= 4,0
relative seek value=-4
offset before read = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 1,0
relative seek value=+4
offset before write ZAP = 5 zkey= 6,0
relative seek value=-3
offset before write ZAP = 3 zkey= 4,0
relative seek value=-3
offset before read = 1 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ zkey= 2,0
relative seek value=+8
offset before write ZAP = 10 zkey= 11,0
relative seek value=-3
offset before read = 8 x= dddddddddddddddddddddddddddddddddddddddddddddddddՇ zkey= 9,0

0  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
1  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
2  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
3  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
4  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
5  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
6  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
7  cccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  dddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA

 choose absolute seek from t(5,...) then use t(6,...) to decide to WRITE ZAP or read and output
read value, choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 7,0
write ZAP, choice = 4 zkey= 5,0
read value, choice = 5 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ zkey= 6,0
read value, choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 7,0
read value, choice = 2 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 3,0
read value, choice = 2 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 3,0
read value, choice = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 1,0
write ZAP, choice = 0 zkey= 1,0
write ZAP, choice = 10 zkey= 11,0
read value, choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 7,0
read value, choice = 5 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ zkey= 6,0
write ZAP, choice = 1 zkey= 2,0

0  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
1  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3  3333333333333333333333333333333333333333333333333Շ
4  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
7  cccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  dddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA

 OPEN WRITEONLY a non-empty file to generate an error if UTF 
STAT=wranyfix+294^wranyfix,%YDB-E-DEVOPENFAIL, Error opening utf16fix_BOM,%YDB-I-TEXT, Cannot read BOM from non-empty WRITEONLY file

 OPEN WRITEONLY an empty file and write to it, seek=-1 and write again

 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W
###################################################################
**************************** UTF-16LE wranyfix no BOM ****************************
###################################################################
Debugging outputs from utf16LEfix_NOBOM will be in utf16LEfix_NOBOM.outx

0  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
1  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3  3333333333333333333333333333333333333333333333333Շ
4  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
7  cccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  dddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  fffffffffffffffffffffffffffffffffffffffffffffffffՇ

Do some reads and writes followed by truncates
seek to record 4 and truncate

write line of NW1 at eof

relative seek -3 records and write line of NW2

truncate after NW2 line

rewind, read first line then truncate
x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ

rewind, replace first line with line of NW3

0  NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW

Do some writes followed by close nodestroy then reopen in various ways
read offset=0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 1,0
1  BBB -> ZZ1
2  SSS -> ZZ2
4  GGG -> ZZ3
0  EEE -> ZZ4
10  fff -> ZZ5

0  ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ
1  ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ
2  ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ
3  3333333333333333333333333333333333333333333333333Շ
4  ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
7  cccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  dddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ

 choose absolute seek values from t(1,...), read then seek to beginning of word and write a ZAP line
have a pipe process(zap2pipfix.m) write a PIP line in same location
choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 7,0
choice = 4 x= GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ zkey= 5,0
choice = 3 x= 3333333333333333333333333333333333333333333333333Շ zkey= 4,0
choice = 3 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI zkey= 4,0
choice = 10 x= fffffffffffffffffffffffffffffffffffffffffffffffffՇ zkey= 11,0
choice = 4 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI zkey= 5,0
choice = 1 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ zkey= 2,0
choice = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 1,0

0  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI
1  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI
4  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI
7  cccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  dddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI

choose absolute seek values from t(2,...), write ZAP
choice = 3
choice = 0
choice = 10
choice = 1
choice = 6
choice = 3
choice = 6

0  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
1  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
4  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
7  cccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  dddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA

 choose relative seek from t(3,...) then use t(4,...) to decide to WRITE ZAP or read and output
relative seek value=+2
offset before read = 2 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 3,0
relative seek value=-0
offset before read = 3 x= 3333333333333333333333333333333333333333333333333Շ zkey= 4,0
relative seek value=+1
offset before write ZAP = 5 zkey= 6,0
relative seek value=+0
offset before write ZAP = 6 zkey= 7,0
relative seek value=-1
offset before write ZAP = 6 zkey= 7,0
relative seek value=-5
offset before write ZAP = 2 zkey= 3,0
relative seek value=-0
offset before write ZAP = 3 zkey= 4,0
relative seek value=-4
offset before read = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 1,0
relative seek value=+4
offset before write ZAP = 5 zkey= 6,0
relative seek value=-3
offset before write ZAP = 3 zkey= 4,0
relative seek value=-3
offset before read = 1 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ zkey= 2,0
relative seek value=+8
offset before write ZAP = 10 zkey= 11,0
relative seek value=-3
offset before read = 8 x= dddddddddddddddddddddddddddddddddddddddddddddddddՇ zkey= 9,0

0  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
1  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
2  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
3  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
4  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
5  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
6  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
7  cccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  dddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA

 choose absolute seek from t(5,...) then use t(6,...) to decide to WRITE ZAP or read and output
read value, choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 7,0
write ZAP, choice = 4 zkey= 5,0
read value, choice = 5 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ zkey= 6,0
read value, choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 7,0
read value, choice = 2 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 3,0
read value, choice = 2 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 3,0
read value, choice = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 1,0
write ZAP, choice = 0 zkey= 1,0
write ZAP, choice = 10 zkey= 11,0
read value, choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 7,0
read value, choice = 5 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ zkey= 6,0
write ZAP, choice = 1 zkey= 2,0

0  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
1  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3  3333333333333333333333333333333333333333333333333Շ
4  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
7  cccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  dddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA

 OPEN WRITEONLY a non-empty file to generate an error if UTF 
STAT=wranyfix+294^wranyfix,%YDB-E-DEVOPENFAIL, Error opening utf16LEfix_NOBOM,%YDB-I-TEXT, Cannot read BOM from non-empty WRITEONLY file

 OPEN WRITEONLY an empty file and write to it, seek=-1 and write again

N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 
###################################################################
**************************** UTF-16LE wranyfix with BOM ****************************
###################################################################
Debugging outputs from utf16LEfix_BOM will be in utf16LEfix_BOM.outx

0  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
1  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3  3333333333333333333333333333333333333333333333333Շ
4  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
7  cccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  dddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  fffffffffffffffffffffffffffffffffffffffffffffffffՇ

Do some reads and writes followed by truncates
seek to record 4 and truncate

write line of NW1 at eof

relative seek -3 records and write line of NW2

truncate after NW2 line

rewind, read first line then truncate
x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ

rewind, replace first line with line of NW3

0  NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW3NW

Do some writes followed by close nodestroy then reopen in various ways
read offset=0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 1,0
1  BBB -> ZZ1
2  SSS -> ZZ2
4  GGG -> ZZ3
0  EEE -> ZZ4
10  fff -> ZZ5

0  ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ4ZZ
1  ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ1ZZ
2  ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ2ZZ
3  3333333333333333333333333333333333333333333333333Շ
4  ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ3ZZ
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
7  cccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  dddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ5ZZ

 choose absolute seek values from t(1,...), read then seek to beginning of word and write a ZAP line
have a pipe process(zap2pipfix.m) write a PIP line in same location
choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 7,0
choice = 4 x= GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ zkey= 5,0
choice = 3 x= 3333333333333333333333333333333333333333333333333Շ zkey= 4,0
choice = 3 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI zkey= 4,0
choice = 10 x= fffffffffffffffffffffffffffffffffffffffffffffffffՇ zkey= 11,0
choice = 4 x= PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI zkey= 5,0
choice = 1 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ zkey= 2,0
choice = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 1,0

0  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI
1  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI
4  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI
7  cccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  dddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  PIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPIPPI

choose absolute seek values from t(2,...), write ZAP
choice = 3
choice = 0
choice = 10
choice = 1
choice = 6
choice = 3
choice = 6

0  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
1  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
4  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
7  cccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  dddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA

 choose relative seek from t(3,...) then use t(4,...) to decide to WRITE ZAP or read and output
relative seek value=+2
offset before read = 2 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 3,0
relative seek value=-0
offset before read = 3 x= 3333333333333333333333333333333333333333333333333Շ zkey= 4,0
relative seek value=+1
offset before write ZAP = 5 zkey= 6,0
relative seek value=+0
offset before write ZAP = 6 zkey= 7,0
relative seek value=-1
offset before write ZAP = 6 zkey= 7,0
relative seek value=-5
offset before write ZAP = 2 zkey= 3,0
relative seek value=-0
offset before write ZAP = 3 zkey= 4,0
relative seek value=-4
offset before read = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 1,0
relative seek value=+4
offset before write ZAP = 5 zkey= 6,0
relative seek value=-3
offset before write ZAP = 3 zkey= 4,0
relative seek value=-3
offset before read = 1 x= BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ zkey= 2,0
relative seek value=+8
offset before write ZAP = 10 zkey= 11,0
relative seek value=-3
offset before read = 8 x= dddddddddddddddddddddddddddddddddddddddddddddddddՇ zkey= 9,0

0  EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ
1  BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBՇ
2  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
3  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
4  GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGՇ
5  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
6  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
7  cccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  dddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA

 choose absolute seek from t(5,...) then use t(6,...) to decide to WRITE ZAP or read and output
read value, choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 7,0
write ZAP, choice = 4 zkey= 5,0
read value, choice = 5 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ zkey= 6,0
read value, choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 7,0
read value, choice = 2 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 3,0
read value, choice = 2 x= SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ zkey= 3,0
read value, choice = 0 x= EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEՇ zkey= 1,0
write ZAP, choice = 0 zkey= 1,0
write ZAP, choice = 10 zkey= 11,0
read value, choice = 6 x= bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ zkey= 7,0
read value, choice = 5 x= HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ zkey= 6,0
write ZAP, choice = 1 zkey= 2,0

0  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
1  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
2  SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSՇ
3  3333333333333333333333333333333333333333333333333Շ
4  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA
5  HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHՇ
6  bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbՇ
7  cccccccccccccccccccccccccccccccccccccccccccccccccՇ
8  dddddddddddddddddddddddddddddddddddddddddddddddddՇ
9  eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeՇ
10  ZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZAPZA

 OPEN WRITEONLY a non-empty file to generate an error if UTF 
STAT=wranyfix+294^wranyfix,%YDB-E-DEVOPENFAIL, Error opening utf16LEfix_BOM,%YDB-I-TEXT, Cannot read BOM from non-empty WRITEONLY file

 OPEN WRITEONLY an empty file and write to it, seek=-1 and write again

N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 1 N W 
##ALLOW_OUTPUT NON_UTF8
##SOURCE_PATH##/mupip
##SOURCE_PATH##/mupip integ -REG *
No errors detected by integ.
