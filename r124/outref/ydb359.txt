# Test that ZSTEP actions continue to work after a MUPIP INTRPT
# Invoke "do ^sstep" in ydb359.m at the beginning so it prints each M line as it executes
# Send a MUPIP INTRPT to self in between
# Expect the M line printing to continue even after the MUPIP INTRPT
# Note that the M line that is first executed to handle the MUPIP INTRPT will not be printed even with #359 fixes.
# This is because, the transfer table entry for OC_LINESTART at the start of that line will handle the MUPIP INTRPT request
# So the ZSTEP activity will resume only from the following M line onwards. But that is still better than never resuming
#     which was the case prior to #359 fixes


Stepping STARTED
ydb359+2^ydb359     :        set x=1
ydb359+3^ydb359     :        zsystem "mupip intrpt "_$j
##TEST_AWKINTRPT issued to process [0-9]*
ydb359+5^ydb359     :        set z=3
ydb359+6^ydb359     :        write "x = ",x," : y = ",y," : z = ",z,!
x = 1 : y = 2 : z = 3
ydb359+7^ydb359     :        quit
